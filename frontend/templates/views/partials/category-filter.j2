{% do doc.styles.addCssFile('css/components/organisms/filter-bubbles-list.css') %}
<amp-state id="activeFilter">
  <script type="application/json">
    {
      "chosenFilter": "none"
    }
  </script>
</amp-state>

<div class="ap-o-filter-bubbles-list">
  <button class="ap-m-filter-bubble filtered"
    [class]="activeFilter.chosenFilter == 'none' ? 'ap-m-filter-bubble filtered' : 'ap-m-filter-bubble'"
    on="tap:AMP.setState({ activeFilter: {chosenFilter: 'none' } })"
    name="all">
    All
  </button>
  {% for category, components in categories %}
  <button class="ap-m-filter-bubble"
    [class]="activeFilter.chosenFilter == '{{ category|slug }}' && activeFilter.chosenFilter != 'none' ? 'ap-m-filter-bubble filtered' : 'ap-m-filter-bubble'"
    on="tap:AMP.setState({ activeFilter: {chosenFilter: '{{ category|slug }}' } })"
    name="{{ category }}">
    {{ category }}
  </button>
  {% endfor %}
</div>
