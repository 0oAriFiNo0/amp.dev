{# Success story teaser #}
{% if teaser_doc.view == '/views/detail/success-story-detail.j2' %}
{% do doc.styles.addCssFile('css/components/molecules/teaser-success-story.css') %}
<div class="ad-m-teaser ad-m-teaser-success-story">
  <a href="{{ teaser_doc.url.path }}">

    {% if teaser_doc.formats %}
    {% do doc.styles.addCssFile('css/components/molecules/tag.css') %}
    <div class="ad-m-tag ad-m-tag-{{ teaser_doc.formats[0] }} ad-m-teaser-tag">{{ teaser_doc.formats[0] }}</div>
    {% endif %}

    <div class="ad-m-teaser-card">
      {% set teaser = teaser_doc.teaser or {} %}
      {% if teaser.image %}
      <div class="ad-a-img ad-m-teaser-image">
        <amp-img src="{{ teaser.image.src }}" layout="responsive" width="1" height="1" alt="{{ teaser.image.alt }}"></amp-img>
      </div>
      {% elif teaser.kpi %}
      {% do doc.styles.addCssFile('css/components/molecules/kpi.css') %}
      <div class="ad-m-kpi ad-m-kpi-{{ teaser_doc.destination }} ad-m-teaser-kpi ad-m-teaser-kpi-{{ teaser_doc.destination }}">
          <div class="ad-m-kpi-content ad-m-kpi-{{ teaser_doc.formats[0] }}">
          {% if teaser.kpi.icon %}
          {% do doc.icons.useIcon('icons/' + teaser.kpi.icon + '.svg') %}
          <div class="ad-a-ico ad-m-kpi-icon">
            <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#{{ teaser.kpi.icon }}"></use></svg>
          </div>
          {% endif %}
          <span class="ad-m-kpi-number">{{ teaser.kpi.title }}</span>
          <span class="ad-m-kpi-text">{{ teaser.kpi.text }}</span>
        </div>
      </div>
      {% endif %}

      <div class="ad-m-teaser-content">
        {% if teaser.logo %}
        {% set landscape = (teaser.logo.width / teaser.logo.height >= 1) %}
        <div class="ad-a-img ad-m-teaser-logo ad-m-teaser-logo-{{ 'landscape' if landscape else 'portrait' }}">
          <amp-img src="{{ teaser.logo.src }}" layout="responsive" width="{{ teaser.logo.width }}" height="{{ teaser.logo.height }}" alt="{{ teaser.logo.alt }}"></amp-img>
        </div>
        {% endif %}

        <h4 class="ad-m-teaser-headline">{{ teaser.text }}</h4>
      </div>
    </div>
  </a>
</div>
{% elif teaser_doc.view == '/views/detail/template-detail.j2' %}
{# Template teaser #}
{% do doc.styles.addCssFile('/css/components/molecules/teaser-template.css') %}
<div class="ad-m-teaser ad-m-teaser-template ad-m-teaser-template-{{ teaser_doc.formats[0] }}">
  <a href="{{ teaser_doc.url.path }}">
    {% if teaser_doc.formats %}
    {% do doc.styles.addCssFile('/css/components/molecules/tag.css') %}
    <div class="ad-m-tag ad-m-tag-{{ teaser_doc.formats[0] }} ad-m-teaser-tag">{{ teaser_doc.formats[0] }}</div>
    {% endif %}

    {% set teaser = teaser_doc.teaser or {} %}
    <div class="ad-m-teaser-card">
      <div class="ad-a-img ad-m-teaser-image">
        <amp-img src="{{ teaser.image.src }}" layout="responsive" width="{{ teaser.image.width }}" height="{{ teaser.image.height }}" alt="{{ teaser.image.alt }}"></amp-img>
      </div>
    </div>
    <div class="ad-m-teaser-content">
      <h4 class="ad-m-teaser-headline">{{ teaser_doc.titles('teaser') }}</h4>
    </div>
  </a>
</div>
{% endif %}
