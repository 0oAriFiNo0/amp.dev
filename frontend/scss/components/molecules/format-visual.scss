/*

#############################
### MOLECULE: format-visual ###
#############################

### INFO:

format-visual contains a code-snippet component along with two amp-img components. The component inside the the code-snippet should manipulate
the border and format around the images.

### MODIFIERS:


*/

@import '../../extends';
@import '../../functions';
@import '../../mixins';
@import '../../variables';
@import '../atoms/_color.scss';
@import '../atoms/_text.scss';

.#{molecule('format-visual')} {
  width: 100%;
  display: flex;
  align-items: center;
  perspective: 80em;
  animation: bounce 10s ease-in-out infinite;

  &-image {
    width: 50%;
    @include box-shadow;
    transform: rotate3d(-5, 5,-5 ,-40deg);
  }

  &-bottom-image {
    margin-bottom: 25%;
  }

  &-top-image {
    border: 5px solid color('doger-blue');
    transform: rotate3d(-5, 5,-5 ,-40deg) translateX(-100%);
    animation: slide 1s cubic-bezier(0.46, 0, 0.31, 1) 3.5s forwards;
    @include box-shadow;

    &:before {
      content: attr(title);
      background-color: color('doger-blue');
      @include txt;
      @include color-white;
      padding: 5px 10px;
      margin-top: -40px;
      position: absolute;
    }
  }

  &-code-snippet {
    position: absolute;
    margin-left: -15%;
    margin-top: -10%;
    transform: rotate3d(-55, 20, -40, -40deg);
    animation: bounce-code 5s ease-in-out 0.25s infinite;

    &-highlight:before {
      content: attr(id);
      color: #e6db74;
      animation: fade-out 2.5s forwards 1s ease-in-out;
    }

  }
}

@keyframes slide {
  0% {
    transform: rotate3d(-5, 5,-5 ,-40deg) translateX(-100%);
  }

  100% {
    transform: rotate3d(-5, 5,-5 ,-40deg) translateX(-150%);
  }
}


@keyframes bounce {
  0% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(20px);
  }

  100% {
    transform: translateY(0);
  }
}

@keyframes bounce-code {
  0% {
    transform: rotate3d(-55, 20, -40, -40deg) translateZ(0);
  }

  50% {
    transform: rotate3d(-55, 20, -40, -40deg) translateZ(30px);
  }

  100% {
    transform: rotate3d(-55, 20, -40, -40deg) translateZ(0);
  }
}

@keyframes fade-in {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

@keyframes fade-out {
  0% {
    content: attr(id);
  }

  25% {
    content: attr(id);
    background-color: color('pink-flamingo');
  }

  50% {
    content: "       ";
    background-color: color('pink-flamingo');
  }

  75% {
    content: '"left"';
    background-color: color('pink-flamingo');
  }

  90% {
    background-color: color('pink-flamingo');
  }

  100% {
    content: '"left"';
  }

}

