<!DOCTYPE html>
<html ⚡>
  <head>
    <meta charset="utf-8">
    <title>amp-user-notification</title>
    <link rel="canonical" href="https://www.ampproject.org/docs/reference/extended/amp-user-notification.html">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <meta property="og:description" content="&lt;!–Copyright 2015 The AMP HTML Authors. All Rights Reserved.">
    <meta name="description" content="&lt;!–Copyright 2015 The AMP HTML Authors. All Rights Reserved.">
    <link rel="shortcut icon" href="/docs/assets/amp_favicon.png?v=2">

    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    <script async custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>
    <script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>

    <style amp-custom>
    body,blockquote,pre,hr,dl,dd,ol,ul,figure{margin:0;padding:0}html,body{background-color:#fbfafb;font-family:Roboto,verdana,arial,sans-serif;margin:0;overflow-x:hidden;padding:0}body{padding-top:66px}ul li,ol li{color:#333;font-size:16px;font-weight:300;line-height:24px}p{color:#333;font-size:16px;font-weight:300;line-height:24px}.container{box-sizing:border-box;margin:0 auto;max-width:1000px;padding:0 20px}.container.md{max-width:800px}.wrap{background-color:#fff;margin:0 auto}.centered{text-align:center}@media only screen and (max-width: 870px){.centered{text-align:left}}.align-right{text-align:right}.clearfix:after{content:"";display:table;clear:both}.clearfix .left{float:left}.clearfix .right{float:right}.clearfix .fill{overflow:hidden;width:auto}h1,h2,h3,h4,h5{color:#147bc1;font-weight:300;margin-top:1.1em;margin-bottom:0.5em}h1{font-size:43px}h2{font-size:36px}h3{font-size:26px}a{color:#0360B5;text-decoration:none}a:hover{text-decoration:underline}a.button{padding:1em;display:block;background-color:#F5F5F5;text-align:center}blockquote{color:#797c82;border-left:4px solid #f5f5f5;padding-left:15px;font-size:18px;letter-spacing:-1px;font-style:italic}blockquote>:last-child{margin-bottom:0}code{font-size:15px;border:1px solid #f5f5f5;border-radius:3px}code{padding:1px 5px}table{border-collapse:collapse}td,th{border:1px solid #FFFFFF;background:#F7F7F7;padding:0.5rem;text-align:left}td.col-fourty{width:40%}td.col-thirty{width:30%}th{background:#eee}th.col-twenty{width:20%}header{-webkit-box-shadow:rgba(0,0,0,0.15) 1px 1px 14px;-moz-box-shadow:rgba(0,0,0,0.15) 1px 1px 14px;box-shadow:rgba(0,0,0,0.15) 1px 1px 14px;font-size:14px;font-weight:300;transform:translateZ(0);backface-visibility:hidden;background-color:#fff}header .container{padding:0}@media only screen and (max-width: 870px){header .container{padding:0 10px}}header.absolute,header.fixed{-moz-transform:translateY(0%);-o-transform:translateY(0%);-ms-transform:translateY(0%);-webkit-transform:translateY(0%);transform:translateY(0%);-moz-transition:all 0.25s ease;-o-transition:all 0.25s ease;-ms-transition:all 0.25s ease;-webkit-transition:all 0.25s ease;transition:all 0.25s ease;left:0;position:fixed;top:0;width:100%;z-index:1000}header.absolute{position:absolute}header.nav--pinned,header.nav--unpinned,header.nav--top{position:fixed}@media only screen and (max-width: 870px){header.nav--pinned,header.nav--unpinned,header.nav--top{position:relative}}header.nav--pinned,header.nav--unpinned{background:#147bc1}header.nav--top{background-color:transparent}header.hidden{display:block}@media only screen and (max-width: 870px){header.hidden{-moz-transform:translateY(-100%);-o-transform:translateY(-100%);-ms-transform:translateY(-100%);-webkit-transform:translateY(-100%);transform:translateY(-100%)}}header.menu-open{transform:translate(-243px, 0px)}@media only screen and (max-width: 870px){header .wrap{color:transparent}}header .content.mobile-show{padding:0 10px 5px}header .left-nav{-webkit-box-align:center;-moz-box-align:center;box-align:center;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-ms-flex-align:center;display:-webkit-box;display:-moz-box;display:box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start;-ms-flex-pack:start;float:left;font-size:14px;letter-spacing:0.04em;margin-left:0}@media only screen and (max-width: 870px){header .left-nav{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start;-ms-flex-pack:start;flex:1 1 auto;padding:0 0 5px 0;text-align:left;width:auto}}header .left-nav .header-title{background-image:url("/docs/assets/logo-blue.svg");background-position:center left;background-repeat:no-repeat;background-size:40px 40px;color:#147bc1;font-family:Roboto, verdana, arial, sans-serif;margin:10px 0;padding:15px 10px 15px 50px;text-transform:none;white-space:nowrap;width:auto}@media only screen and (max-width: 870px){header .left-nav .header-title{line-height:41px;margin:6px 0;padding:0 0 0 50px;width:auto}}@media only screen and (max-width: 870px){header .clearfix{display:flex;flex-wrap:wrap-reverse}}header .alt{padding:15px 0;text-align:right;display:-webkit-box;display:-moz-box;display:box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-moz-box-align:center;box-align:center;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-ms-flex-align:center;-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-ms-flex-pack:center}header .alt.right{letter-spacing:0.04em;font-size:14px}@media only screen and (max-width: 870px){header .alt.right{float:right;text-align:center;flex:0;padding:0 0 10px;font-size:12px;display:inline-block}}header .tab{color:#147bc1;display:inline-block;padding:10px 15px;text-decoration:none;text-transform:uppercase}@media only screen and (max-width: 870px){header .tab{margin-left:auto;padding:10px 12px}}header .tab.go-button{-webkit-box-shadow:-1px 6px 6px -3px rgba(0,0,0,0.22);-moz-box-shadow:-1px 6px 6px -3px rgba(0,0,0,0.22);box-shadow:-1px 6px 6px -3px rgba(0,0,0,0.22);background-color:#147bc1;border:0;border-radius:4px;color:#fff;font-family:Roboto, verdana, arial, sans-serif;font-size:14px;font-weight:500;padding:10px 20px;margin-left:10px;text-transform:uppercase}@media only screen and (max-width: 870px){header .tab.go-button{margin-right:5px;margin-left:auto;padding:8px 10px}}header .tab.go-button:hover{text-decoration:none}header .tab.hamburger{font-size:50px;line-height:38px;background:none;border:none;margin-top:0;padding-top:0;position:relative;top:4px;display:none}@media only screen and (max-width: 870px){header .tab.desktop{display:none}header .tab.hamburger{display:inline-block}}@media only screen and (max-width: 320px){header .header-title span{display:none}header .header-title::after{content:"AMP"}}.main{display:-webkit-flex;display:flex;padding-top:40px;padding-bottom:30px}.main h1{margin-top:0}.main h1:before,.main h2:before,.main h3:before,.main h4:before,.main h5:before{display:block;content:" ";margin-top:-106px;height:106px;visibility:hidden}.main .content{flex-grow:1;-webkit-flex-grow:1;transition:all 0.25s ease;transform:translate(0, 0);will-change:transform;word-break:break-word;min-width:0}.main .content.menu-open{transform:translate(-243px, 0)}.main .content ul,.main .content ol{margin-left:40px}.main .content{overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.main amp-img,.main amp-youtube,.main amp-iframe{margin:1em 0}nav{border-right:2px solid #E6E6E6;padding:20px;margin-right:30px;margin-left:-20px;width:200px;flex-shrink:0;-webkit-flex-shrink:0;background:#F7F7F7;margin-top:-40px;margin-bottom:-30px}nav h2{font-size:20px;color:#111;margin-top:0;margin-bottom:10px}nav ul li,nav ol li{margin-bottom:10px;list-style:none}nav ul li ul,nav ul li ol,nav ol li ul,nav ol li ol{padding-left:0;margin-left:20px;margin-bottom:1.2em}nav ul li ul li,nav ul li ol li,nav ol li ul li,nav ol li ol li{margin-bottom:6px;font-size:14px;list-style:square;color:#CECECE}nav ul li ul li.current,nav ul li ol li.current,nav ol li ul li.current,nav ol li ol li.current{color:#222}nav ul li ul li span,nav ul li ol li span,nav ol li ul li span,nav ol li ol li span{font-weight:400;color:#222}nav ul li ul li ul,nav ul li ul li ol,nav ul li ol li ul,nav ul li ol li ol,nav ol li ul li ul,nav ol li ul li ol,nav ol li ol li ul,nav ol li ol li ol{margin-bottom:0;margin-left:0;padding-left:20px;border-top:1px solid #eee;padding-top:3px;padding-bottom:0px}nav ul li ul li ol li,nav ul li ol li ol li,nav ol li ul li ol li,nav ol li ol li ol li{list-style:decimal}@media only screen and (max-width: 870px){.container nav{display:none}amp-sidebar nav{margin-right:0;border-right:none;margin-top:0;padding-left:36px}}pre{overflow:auto;tab-size:2;word-break:normal;line-height:1.4;background:#F7F7F7}pre>code{white-space:pre;word-wrap:initial;display:block}pre>code td{border:0}.highlight .hll{background-color:#ffc}.highlight .c{color:#aaaaaa;font-style:italic}.highlight .err{color:#F00000}.highlight .k{color:#00a}.highlight .cm{color:#aaaaaa;font-style:italic}.highlight .cp{color:#4c8317}.highlight .c1{color:#aaaaaa;font-style:italic}.highlight .cs{color:#0000aa;font-style:italic}.highlight .gd{color:#a00}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#000080;font-weight:bold}.highlight .gi{color:#0a0}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#800080;font-weight:bold}.highlight .gt{color:#a00}.highlight .kc{color:#00a}.highlight .kd{color:#00a}.highlight .kn{color:#00a}.highlight .kp{color:#00a}.highlight .kr{color:#00a}.highlight .kt{color:#0aa}.highlight .m{color:#099}.highlight .s{color:#a50}.highlight .na{color:#1e90ff}.highlight .nb{color:#0aa}.highlight .nc{color:#00aa00;text-decoration:underline}.highlight .no{color:#a00}.highlight .nd{color:#888}.highlight .ni{color:#800000;font-weight:bold}.highlight .nf{color:#0a0}.highlight .nn{color:#00aaaa;text-decoration:underline}.highlight .nt{color:#1e90ff;font-weight:bold}.highlight .nv{color:#a00}.highlight .ow{color:#00a}.highlight .w{color:#bbb}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .sb{color:#a50}.highlight .sc{color:#a50}.highlight .sd{color:#a50}.highlight .s2{color:#a50}.highlight .se{color:#a50}.highlight .sh{color:#a50}.highlight .si{color:#a50}.highlight .sx{color:#a50}.highlight .sr{color:#099}.highlight .s1{color:#a50}.highlight .ss{color:#00a}.highlight .bp{color:#0aa}.highlight .vc{color:#a00}.highlight .vg{color:#a00}.highlight .vi{color:#a00}.highlight .il{color:#099}.highlight .lineno{-webkit-user-select:none;-moz-user-select:none;-o-user-select:none}.lineno::-moz-selection{background-color:transparent}.lineno::selection{background-color:transparent}footer{padding:40px 0 60px 100px;background-color:#f5f5f5}footer p{margin:0}footer .footer-image{height:25px;width:25px;padding-left:25px;float:right}
    </style>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:200,300,400,500,700">
  </head>

  <body>
    <amp-analytics type="googleanalytics" id="analytics-ga">
    <script type="application/json">
    {
      "vars": {
        "account": "UA-67833617-1"
      },
      "triggers": {
        "trackPageview": {
          "on": "visible",
          "request": "pageview"
        }
      }
    }
    </script>
    </amp-analytics>

    <amp-sidebar id='sidebar' side='right' layout='nodisplay'>
              
        <nav>
          <ul>
            
            

            <li>
            <h2>Get Started</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/about-amp.html">What Is AMP?</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/create_page.html">Create Your First AMP Page</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/technical_overview.html">How AMP Speeds Up Performance</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Guides</h2>

            <ul>
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/responsive_amp.html">Create Responsive AMP Pages</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/amp_replacements.html">Include Iframes and Media</a>
                

                

                </li>
                

              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/third_party_components.html">Include Third-Party Content</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/discovery.html">Make Your Page Discoverable</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/validate.html">Validate AMP Pages</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/analytics_amp.html">Configure Analytics</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Reference</h2>

            <ul>
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-ad.html">amp-ad</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-embed.html">amp-embed</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-img.html">amp-img</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-pixel.html">amp-pixel</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-video.html">amp-video</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/extended.html">Extended components</a>
                

                
                  <ul>
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-access.html">amp-access</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-accordion.html">amp-accordion</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-analytics.html">amp-analytics</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-anim.html">amp-anim</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-audio.html">amp-audio</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-brid-player.html">amp-brid-player</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-brightcove.html">amp-brightcove</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-carousel.html">amp-carousel</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-dailymotion.html">amp-dailymotion</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-dynamic-css-classes.html">amp-dynamic-css-classes</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-facebook.html">amp-facebook</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-fit-text.html">amp-fit-text</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-font.html">amp-font</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-fx-flying-carpet.html">amp-fx-flying-carpet</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-iframe.html">amp-iframe</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-image-lightbox.html">amp-image-lightbox</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-instagram.html">amp-instagram</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-install-serviceworker.html">amp-install-serviceworker</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-jwplayer.html">amp-jwplayer</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-kaltura-player.html">amp-kaltura-player</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-lightbox.html">amp-lightbox</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-list.html">amp-list</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-live-list.html">amp-live-list</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-mustache.html">amp-mustache</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-pinterest.html">amp-pinterest</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-reach-player.html">amp-reach-player</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-sidebar.html">amp-sidebar</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-slides.html">amp-slides</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-social-share.html">amp-social-share</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-soundcloud.html">amp-soundcloud</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-springboard-player.html">amp-springboard-player</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-sticky-ad.html">amp-sticky-ad</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-twitter.html">amp-twitter</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li class="current">
                      <span>amp-user-notification</span>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-vimeo.html">amp-vimeo</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-vine.html">amp-vine</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-youtube.html">amp-youtube</a>
                    </li>
                    
                    
                    
                  
                  
                  </ul>
                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/experimental.html">Experimental Components</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/spec.html">AMP HTML Specification</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/validation_errors.html">AMP Validation Errors</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Support</h2>

            <ul>
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/support/faqs.html">FAQ</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="https://amphtml.wordpress.com">Blog</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="https://stackoverflow.com/questions/tagged/amp-html">Stack Overflow</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/support/contribute.html">How to Contribute</a>
                

                

                </li>
                

              
              
            </ul>
            </li>
            
            
            
            
          </ul>
        </nav>
        

    </amp-sidebar>

    <header class="fixed">
      <div class="wrap">
        <div class="container">
          <div class="clearfix">
          <div class="left-nav">
              <a href="https://ampproject.org" class="tab header-title">
                <span>Accelerated
                Mobile
                Pages
                Project</span>
              </a>
            </div>
            <div class="right alt">
              <a class="tab desktop" href="/docs/support/faqs.html">
                FAQ
              </a>
              <a class="tab desktop" href="https://amphtml.wordpress.com">
                Blog
              </a>
              <a class="tab desktop" href="https://github.com/ampproject/amphtml">
                GitHub
              </a>
              <a class="tab desktop" href="/docs/get_started/about-amp.html">
                Docs
              </a>
              <button class="tab hamburger" id="menu-button" on='tap:sidebar.toggle'>&#x2261;</button>
            </div>
          </div>
        </div>
      </div>
    </header>


    <div class="wrap">
      <div class="container main">
        
        <nav>
          <ul>
            
            

            <li>
            <h2>Get Started</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/about-amp.html">What Is AMP?</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/create_page.html">Create Your First AMP Page</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/technical_overview.html">How AMP Speeds Up Performance</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Guides</h2>

            <ul>
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/responsive_amp.html">Create Responsive AMP Pages</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/amp_replacements.html">Include Iframes and Media</a>
                

                

                </li>
                

              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/third_party_components.html">Include Third-Party Content</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/discovery.html">Make Your Page Discoverable</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/validate.html">Validate AMP Pages</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/analytics_amp.html">Configure Analytics</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Reference</h2>

            <ul>
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-ad.html">amp-ad</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-embed.html">amp-embed</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-img.html">amp-img</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-pixel.html">amp-pixel</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-video.html">amp-video</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/extended.html">Extended components</a>
                

                
                  <ul>
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-access.html">amp-access</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-accordion.html">amp-accordion</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-analytics.html">amp-analytics</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-anim.html">amp-anim</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-audio.html">amp-audio</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-brid-player.html">amp-brid-player</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-brightcove.html">amp-brightcove</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-carousel.html">amp-carousel</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-dailymotion.html">amp-dailymotion</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-dynamic-css-classes.html">amp-dynamic-css-classes</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-facebook.html">amp-facebook</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-fit-text.html">amp-fit-text</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-font.html">amp-font</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-fx-flying-carpet.html">amp-fx-flying-carpet</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-iframe.html">amp-iframe</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-image-lightbox.html">amp-image-lightbox</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-instagram.html">amp-instagram</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-install-serviceworker.html">amp-install-serviceworker</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-jwplayer.html">amp-jwplayer</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-kaltura-player.html">amp-kaltura-player</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-lightbox.html">amp-lightbox</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-list.html">amp-list</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-live-list.html">amp-live-list</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-mustache.html">amp-mustache</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-pinterest.html">amp-pinterest</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-reach-player.html">amp-reach-player</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-sidebar.html">amp-sidebar</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-slides.html">amp-slides</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-social-share.html">amp-social-share</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-soundcloud.html">amp-soundcloud</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-springboard-player.html">amp-springboard-player</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-sticky-ad.html">amp-sticky-ad</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-twitter.html">amp-twitter</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li class="current">
                      <span>amp-user-notification</span>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-vimeo.html">amp-vimeo</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-vine.html">amp-vine</a>
                    </li>
                    
                    
                    
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/reference/extended/amp-youtube.html">amp-youtube</a>
                    </li>
                    
                    
                    
                  
                  
                  </ul>
                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/experimental.html">Experimental Components</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/spec.html">AMP HTML Specification</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/validation_errors.html">AMP Validation Errors</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Support</h2>

            <ul>
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/support/faqs.html">FAQ</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="https://amphtml.wordpress.com">Blog</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="https://stackoverflow.com/questions/tagged/amp-html">Stack Overflow</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/support/contribute.html">How to Contribute</a>
                

                

                </li>
                

              
              
            </ul>
            </li>
            
            
            
            
          </ul>
        </nav>
        

        <div class="content">
          <!-- article -->
          <article class="post">

    <h1 class="post-title">amp-user-notification</h1>

	<div class="post-content">
	    <!--
Copyright 2015 The AMP HTML Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS-IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<table>
  <tr>
    <td width="40%"><strong>Description</strong></td>
    <td>Displays a dismissable notification to the user. </td>
  </tr>
  <tr>
    <td width="40%"><strong>Availability</strong></td>
    <td>Stable</td>
  </tr>
  <tr>
    <td width="40%"><strong>Required Script</strong></td>
    <td>
      <div>
        <code>&lt;script async custom-element="amp-user-notification" src="https://cdn.ampproject.org/v0/amp-user-notification-0.1.js"&gt;&lt;/script&gt;</code>
      </div>
      <div>
        <code>&lt;script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"&gt;&lt;/script&gt;</code>
      </div>
      <small>Notice that both "amp-user-notification" and "amp-analytics" scripts are required.</small>
    </td>
  </tr>
  <tr>
    <td class="col-fourty"><strong><a href="https://www.ampproject.org/docs/guides/responsive/control_layout.html">Supported Layouts</a></strong></td>
    <td>NODISPLAY</td>
  </tr>
  <tr>
    <td width="40%"><strong>Examples</strong></td>
    <td><a href="https://ampbyexample.com/components/amp-user-notification/">amp-user-notification_with_local_storage.html</a><br /><a href="https://ampbyexample.com/advanced/amp-user-notification_with_server_endpoint/">amp-user-notification_with_server_endpoint.html</a><br /><a href="https://github.com/ampproject/amphtml/blob/master/examples/user-notification.amp.html">user-notification.amp.html</a></td>
  </tr>
</table>

<h2 id="usage">Usage</h2>

<p>An <code class="highlighter-rouge">id</code> is required
as multiple <code class="highlighter-rouge">amp-user-notification</code> elements are allowed and the
<code class="highlighter-rouge">id</code> is used to differentiate them.</p>

<p>By supplying two URLs that
get called before the notification is shown and after it is dismissed,
it is possible to control per user as to whether the notification should
be shown (using the <code class="highlighter-rouge">ampUserId</code> value).
For example, it could only be shown to users in certain geo locations or
prevent showing it again to the user when they’ve dismissed it before.
If these URLs are not specified, dismissal state will be queried
and/or stored locally to determine whether to show the notification to
the user.</p>

<p>To close <code class="highlighter-rouge">amp-user-notification</code>, add a <code class="highlighter-rouge">on</code> attribute to a button with the
following value scheme <code class="highlighter-rouge">on="event:idOfUserNotificationElement.dismiss"</code>
(see example below). This user action also triggers the <code class="highlighter-rouge">GET</code> to the
<code class="highlighter-rouge">data-dismiss-href</code> URL. Be very mindful of the browser caching the <code class="highlighter-rouge">GET</code> response
and see details below in the <code class="highlighter-rouge">data-show-if-href</code> section. (We recommend
adding a unique value to the <code class="highlighter-rouge">GET</code> url like a timestamp as a query string field)</p>

<p>When multiple <code class="highlighter-rouge">amp-user-notification</code> elements are on a page, only one is shown
at a single time (Once one is dismissed the next one is shown).
The order of the notifications being shown is currently not deterministic. (TODO:
follow up task #1229 to fix this).</p>

<p>Example:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-user-notification</span>
    <span class="na">layout=</span><span class="s">nodisplay</span>
    <span class="na">id=</span><span class="s">"amp-user-notification1"</span>
    <span class="na">data-show-if-href=</span><span class="s">"https://foo.com/api/show-api?timestamp=TIMESTAMP"</span>
    <span class="na">data-dismiss-href=</span><span class="s">"https://foo.com/api/dismissed"</span><span class="nt">&gt;</span>
    This site uses cookies to personalize content.
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">""</span><span class="nt">&gt;</span>Learn more.<span class="nt">&lt;/a&gt;</span>
   <span class="nt">&lt;button</span> <span class="na">on=</span><span class="s">"tap:amp-user-notification1.dismiss"</span><span class="nt">&gt;</span>I accept<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/amp-user-notification&gt;</span></code></pre></figure>

<hr />

<h2 id="attributes">Attributes</h2>

<p><strong>data-show-if-href</strong> (Optional)</p>

<p>When specified, AMP will make a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS">CORS</a>
GET request with credentials to this URL to determine whether the notification should be shown.
We will append the <code class="highlighter-rouge">elementId</code> and <code class="highlighter-rouge">ampUserId</code> query string fields to the href provided
on the <code class="highlighter-rouge">data-show-if-href</code> attribute. (see #1228 on why this is a GET instead of a POST)</p>

<p>For best practice to not let the browser cache the GET response values you should add
a <a href="https://github.com/ampproject/amphtml/blob/master/spec/amp-var-substitutions.md"><code class="highlighter-rouge">TIMESTAMP</code> url replacement</a> value to the <code class="highlighter-rouge">data-show-if-href</code> attribute value.
You can add it as a query string field. (ex.
<code class="highlighter-rouge">data-show-if-href="https://foo.com/api/show-api?timestamp=TIMESTAMP"</code>)</p>

<ul>
  <li><code class="highlighter-rouge">CORS GET request</code> query string fields
    <ul>
      <li><code class="highlighter-rouge">elementId</code></li>
      <li><code class="highlighter-rouge">ampUserId</code></li>
    </ul>
  </li>
</ul>

<p>Example:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">      https://foo.com/api/show-api?timestamp=1234567890<span class="err">&amp;</span>elementId=notification1<span class="err">&amp;</span>ampUserId=cid-value
    </code></pre></figure>

<ul>
  <li>
    <p><code class="highlighter-rouge">CORS GET response</code> json fields
 The response must contain a single JSON object with a field
 “showNotification” of type boolean. If this field is <code class="highlighter-rouge">true</code> the
 notification will be shown, otherwise it will not be shown.</p>

    <ul>
      <li><code class="highlighter-rouge">showNotification</code></li>
    </ul>

    <p>Example:</p>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nt">"showNotification"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span></code></pre></figure>

<p>If not specified, AMP will only check if the notification with the specified ID has been “dismissed”
by the user locally. If not, the notification will be shown.</p>

<p><strong>data-dismiss-href</strong> (Optional)</p>

<p>When specified, AMP will make a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS">CORS</a>
POST request to this URL transmitting the <code class="highlighter-rouge">elementId</code> and
<code class="highlighter-rouge">ampUserId</code> only when the user has explicitly agreed.</p>

<p>Use the <code class="highlighter-rouge">ampUserId</code> field to store that the user has seen the notification before
if you want to avoid showing it in the future. (It is the same value that
will be passed in future requests to data-show-if-href)</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">POST request</code> json fields</p>

    <ul>
      <li><code class="highlighter-rouge">elementId</code></li>
      <li><code class="highlighter-rouge">ampUserId</code></li>
    </ul>

    <p>Example:</p>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nt">"elementId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id-of-amp-user-notification"</span><span class="p">,</span><span class="w"> </span><span class="nt">"ampUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ampUserIdString"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span></code></pre></figure>

<ul>
  <li><code class="highlighter-rouge">POST response</code> should be a 200 HTTP code and no data is expected back.</li>
</ul>

<p>If not specified, AMP will not send a request upon dismissal and will only store “dismissed”
flag for the specified ID locally.</p>

<p><strong>data-persist-dismissal</strong> (Optional)
<strong>Default: true</strong>
If set  to <code class="highlighter-rouge">false</code> AMP will not remember the user’s dismissal of the notification. The notification
will always show if the <code class="highlighter-rouge">data-show-if-href</code> result is show notification. If no <code class="highlighter-rouge">data-show-if-href</code> is provided
the notification will always show.</p>

<p>Example 1:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-user-notification</span>
      <span class="na">layout=</span><span class="s">nodisplay</span>
      <span class="na">id=</span><span class="s">"amp-user-notification5"</span>
      <span class="na">data-persist-dismissal=</span><span class="s">"false"</span>
      <span class="na">data-show-if-href=</span><span class="s">"https://example.com/api/shouldShow?timestamp=TIMESTAMP"</span>
      <span class="na">data-dismiss-href=</span><span class="s">"https://example.com/api/echo/post"</span><span class="nt">&gt;</span>
This notification should ALWAYS show - if shouldShow endpoint response was true.
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#learn-more"</span><span class="nt">&gt;</span>Learn more.<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;button</span> <span class="na">on=</span><span class="s">"tap:amp-user-notification5.dismiss"</span><span class="nt">&gt;</span>Dismiss<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/amp-user-notification&gt;</span></code></pre></figure>

<p>Example 2:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-user-notification</span>
      <span class="na">layout=</span><span class="s">nodisplay</span>
      <span class="na">id=</span><span class="s">"amp-user-notification6"</span>
      <span class="na">data-persist-dismissal=</span><span class="s">"false"</span><span class="nt">&gt;</span>
This notification should ALWAYS show on every page visit.
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#learn-more"</span><span class="nt">&gt;</span>Learn more.<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;button</span> <span class="na">on=</span><span class="s">"tap:amp-user-notification6.dismiss"</span><span class="nt">&gt;</span>Dismiss<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/amp-user-notification&gt;</span></code></pre></figure>

<hr />

<h2 id="json-fields">JSON Fields</h2>

<ul>
  <li><code class="highlighter-rouge">elementId</code> (string) - The HTML id used on <code class="highlighter-rouge">amp-user-notification</code> element.</li>
  <li>
    <p><code class="highlighter-rouge">ampUserId</code> (string) - This id is passed to both the <code class="highlighter-rouge">data-show-if-href</code> GET request
  (as a query string field) and the <code class="highlighter-rouge">data-dismiss-href</code> POST request (as a json field).
  The id will be the same for this user going forward, but no other requests
  in AMP send the same id.
  You can use the id on your side to lookup/store whether the user has
  dismissed the notification before.</p>
  </li>
  <li><code class="highlighter-rouge">showNotification</code> (boolean) - Boolean value indicating whether or not the notification should be shown.
  If <code class="highlighter-rouge">false</code> the promise associated to the element is resolved right away.</li>
</ul>

<hr />

<h2 id="behavior">Behavior</h2>

<p>A notification is shown when:</p>

<ol>
  <li>There’s no record locally that the user has dismissed the notification with the
specified ID.</li>
  <li>When specified, <code class="highlighter-rouge">data-show-if-href</code> endpoint returns <code class="highlighter-rouge"><span class="p">{</span><span class="w"> </span><span class="nt">"showNotification"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span></code>.</li>
</ol>

<p>When notification is dismissed:</p>

<ol>
  <li>AMP stores the “dismiss” record locally for the specified ID. This will prevent the
notification from being shown again.</li>
  <li>When specified, <code class="highlighter-rouge">data-dismiss-href</code> is invoked and can be used to make the “dismiss”
record remotely.</li>
</ol>

<hr />

<h2 id="styling">Styling</h2>

<p>The <code class="highlighter-rouge">amp-user-notification</code> component should always have <code class="highlighter-rouge">layout=nodisplay</code>
and will be <code class="highlighter-rouge">position: fixed</code> after layout (default is bottom: 0, which can be overridden).
If a page has more than 1 <code class="highlighter-rouge">amp-user-notification</code> element then the notifications
are queued up and only shown when the previous notification has been dismissed.</p>

<p>The <code class="highlighter-rouge">amp-active</code> (visibility: visible) class is added when the notification is displayed and
and removed when the notification has been dismissed.
<code class="highlighter-rouge">amp-hidden</code> (visibility: hidden) is added when the notification has been dismissed.</p>

<p>You can for example hook into these classes for a “fade in” transition.</p>

<p>ex. (w/o vendor prefixes)</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css">  <span class="k">@keyframes</span> <span class="n">fadeIn</span> <span class="p">{</span>
    <span class="nt">from</span> <span class="p">{</span> <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="p">}</span>
    <span class="nt">to</span> <span class="p">{</span> <span class="nl">opacity</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span> <span class="p">}</span>
  <span class="p">}</span>

  <span class="nt">amp-user-notification</span><span class="nc">.amp-active</span> <span class="p">{</span>
    <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">animation</span><span class="p">:</span> <span class="n">fadeIn</span> <span class="n">ease-in</span> <span class="m">1s</span> <span class="m">1</span> <span class="n">forwards</span><span class="p">;</span>
  <span class="p">}</span></code></pre></figure>

<h2 id="delaying-client-id-generation-until-the-notification-is-acknowledged">Delaying Client ID generation until the notification is acknowledged</h2>

<p>Optionally one can delay generation of Client IDs used for analytics and similar purposes until an <code class="highlighter-rouge">amp-user-notification</code> is confirmed by the user. See these docs for how to implement this:</p>

<ul>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-user-notification/../../spec/amp-var-substitutions.md#CLIENT_ID">CLIENT_ID URL substitution.</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-user-notification/../../builtins/amp-ad.md"><code class="highlighter-rouge">amp-ad</code></a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-user-notification/../amp-analytics/amp-analytics.md"><code class="highlighter-rouge">amp-analytics</code></a></li>
</ul>

<h2 id="validation">Validation</h2>

<p>See <a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-user-notification/0.1/validator-amp-user-notification.protoascii">amp-user-notification rules</a> in the AMP validator specification.</p>

	</div>

</article>

          <!-- /article -->
        </div>
      </div>
    </div>

    <footer>
      <div class="container">
        <div class="row">
          <div class="twelve columns">
          </div>
        </div>
    </footer>
  </body>
</html>
