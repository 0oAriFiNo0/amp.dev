<!DOCTYPE html>
<html ⚡>
  <head>
    <meta charset="utf-8">
    <title>amp-ad</title>
    <link rel="canonical" href="https://www.ampproject.org/docs/reference/amp-ad.html">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <meta property="og:description" content="NOTE: The specification of amp-ad is likely to significantly evolve over time. The current approach is designed to bootstrap the format to be able to show ads.">
    <meta name="description" content="NOTE: The specification of amp-ad is likely to significantly evolve over time. The current approach is designed to bootstrap the format to be able to show ads.">
    <link rel="shortcut icon" href="/docs/assets/amp_favicon.png?v=2">

    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    <script async custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>
    <script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>

    <style amp-custom>
    body,blockquote,pre,hr,dl,dd,ol,ul,figure{margin:0;padding:0}html,body{background-color:#fbfafb;font-family:Roboto,verdana,arial,sans-serif;margin:0;overflow-x:hidden;padding:0}body{padding-top:66px}ul li,ol li{color:#333;font-size:16px;font-weight:300;line-height:24px}p{color:#333;font-size:16px;font-weight:300;line-height:24px}.container{box-sizing:border-box;margin:0 auto;max-width:1000px;padding:0 20px}.container.md{max-width:800px}.wrap{background-color:#fff;margin:0 auto}.centered{text-align:center}@media only screen and (max-width: 870px){.centered{text-align:left}}.align-right{text-align:right}.clearfix:after{content:"";display:table;clear:both}.clearfix .left{float:left}.clearfix .right{float:right}.clearfix .fill{overflow:hidden;width:auto}h1,h2,h3,h4,h5{color:#147bc1;font-weight:300;margin-top:1.1em;margin-bottom:0.5em}h1{font-size:43px}h2{font-size:36px}h3{font-size:26px}a{color:#0360B5;text-decoration:none}a:hover{text-decoration:underline}a.button{padding:1em;display:block;background-color:#F5F5F5;text-align:center}blockquote{color:#797c82;border-left:4px solid #f5f5f5;padding-left:15px;font-size:18px;letter-spacing:-1px;font-style:italic}blockquote>:last-child{margin-bottom:0}code{font-size:15px;border:1px solid #f5f5f5;border-radius:3px}code{padding:1px 5px}table{border-collapse:collapse}td,th{border:1px solid #FFFFFF;background:#F7F7F7;padding:0.5rem;text-align:left}td.col-fourty{width:40%}td.col-thirty{width:30%}th{background:#eee}th.col-twenty{width:20%}header{-webkit-box-shadow:rgba(0,0,0,0.15) 1px 1px 14px;-moz-box-shadow:rgba(0,0,0,0.15) 1px 1px 14px;box-shadow:rgba(0,0,0,0.15) 1px 1px 14px;font-size:14px;font-weight:300;transform:translateZ(0);backface-visibility:hidden;background-color:#fff}header .container{padding:0}@media only screen and (max-width: 870px){header .container{padding:0 10px}}header.absolute,header.fixed{-moz-transform:translateY(0%);-o-transform:translateY(0%);-ms-transform:translateY(0%);-webkit-transform:translateY(0%);transform:translateY(0%);-moz-transition:all 0.25s ease;-o-transition:all 0.25s ease;-ms-transition:all 0.25s ease;-webkit-transition:all 0.25s ease;transition:all 0.25s ease;left:0;position:fixed;top:0;width:100%;z-index:1000}header.absolute{position:absolute}header.nav--pinned,header.nav--unpinned,header.nav--top{position:fixed}@media only screen and (max-width: 870px){header.nav--pinned,header.nav--unpinned,header.nav--top{position:relative}}header.nav--pinned,header.nav--unpinned{background:#147bc1}header.nav--top{background-color:transparent}header.hidden{display:block}@media only screen and (max-width: 870px){header.hidden{-moz-transform:translateY(-100%);-o-transform:translateY(-100%);-ms-transform:translateY(-100%);-webkit-transform:translateY(-100%);transform:translateY(-100%)}}header.menu-open{transform:translate(-243px, 0px)}@media only screen and (max-width: 870px){header .wrap{color:transparent}}header .content.mobile-show{padding:0 10px 5px}header .left-nav{-webkit-box-align:center;-moz-box-align:center;box-align:center;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-ms-flex-align:center;display:-webkit-box;display:-moz-box;display:box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start;-ms-flex-pack:start;float:left;font-size:14px;letter-spacing:0.04em;margin-left:0}@media only screen and (max-width: 870px){header .left-nav{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start;-ms-flex-pack:start;flex:1 1 auto;padding:0 0 5px 0;text-align:left;width:auto}}header .left-nav .header-title{background-image:url("/docs/assets/logo-blue.svg");background-position:center left;background-repeat:no-repeat;background-size:40px 40px;color:#147bc1;font-family:Roboto, verdana, arial, sans-serif;margin:10px 0;padding:15px 10px 15px 50px;text-transform:none;white-space:nowrap;width:auto}@media only screen and (max-width: 870px){header .left-nav .header-title{line-height:41px;margin:6px 0;padding:0 0 0 50px;width:auto}}@media only screen and (max-width: 870px){header .clearfix{display:flex;flex-wrap:wrap-reverse}}header .alt{padding:15px 0;text-align:right;display:-webkit-box;display:-moz-box;display:box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-moz-box-align:center;box-align:center;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-ms-flex-align:center;-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-ms-flex-pack:center}header .alt.right{letter-spacing:0.04em;font-size:14px}@media only screen and (max-width: 870px){header .alt.right{float:right;text-align:center;flex:0;padding:0 0 10px;font-size:12px;display:inline-block}}header .tab{color:#147bc1;display:inline-block;padding:10px 15px;text-decoration:none;text-transform:uppercase}@media only screen and (max-width: 870px){header .tab{margin-left:auto;padding:10px 12px}}header .tab.go-button{-webkit-box-shadow:-1px 6px 6px -3px rgba(0,0,0,0.22);-moz-box-shadow:-1px 6px 6px -3px rgba(0,0,0,0.22);box-shadow:-1px 6px 6px -3px rgba(0,0,0,0.22);background-color:#147bc1;border:0;border-radius:4px;color:#fff;font-family:Roboto, verdana, arial, sans-serif;font-size:14px;font-weight:500;padding:10px 20px;margin-left:10px;text-transform:uppercase}@media only screen and (max-width: 870px){header .tab.go-button{margin-right:5px;margin-left:auto;padding:8px 10px}}header .tab.go-button:hover{text-decoration:none}header .tab.hamburger{font-size:50px;line-height:38px;background:none;border:none;margin-top:0;padding-top:0;position:relative;top:4px;display:none}@media only screen and (max-width: 870px){header .tab.desktop{display:none}header .tab.hamburger{display:inline-block}}@media only screen and (max-width: 320px){header .header-title span{display:none}header .header-title::after{content:"AMP"}}.main{display:-webkit-flex;display:flex;padding-top:40px;padding-bottom:30px}.main h1{margin-top:0}.main h1:before,.main h2:before,.main h3:before,.main h4:before,.main h5:before{display:block;content:" ";margin-top:-106px;height:106px;visibility:hidden}.main .content{flex-grow:1;-webkit-flex-grow:1;transition:all 0.25s ease;transform:translate(0, 0);will-change:transform;word-break:break-word;min-width:0}.main .content.menu-open{transform:translate(-243px, 0)}.main .content ul,.main .content ol{margin-left:40px}.main .content{overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.main amp-img,.main amp-youtube,.main amp-iframe{margin:1em 0}nav{border-right:2px solid #E6E6E6;padding:20px;margin-right:30px;margin-left:-20px;width:200px;flex-shrink:0;-webkit-flex-shrink:0;background:#F7F7F7;margin-top:-40px;margin-bottom:-30px}nav h2{font-size:20px;color:#111;margin-top:0;margin-bottom:10px}nav ul li,nav ol li{margin-bottom:10px;list-style:none}nav ul li ul,nav ul li ol,nav ol li ul,nav ol li ol{padding-left:0;margin-left:20px;margin-bottom:1.2em}nav ul li ul li,nav ul li ol li,nav ol li ul li,nav ol li ol li{margin-bottom:6px;font-size:14px;list-style:square;color:#CECECE}nav ul li ul li.current,nav ul li ol li.current,nav ol li ul li.current,nav ol li ol li.current{color:#222}nav ul li ul li span,nav ul li ol li span,nav ol li ul li span,nav ol li ol li span{font-weight:400;color:#222}nav ul li ul li ul,nav ul li ul li ol,nav ul li ol li ul,nav ul li ol li ol,nav ol li ul li ul,nav ol li ul li ol,nav ol li ol li ul,nav ol li ol li ol{margin-bottom:0;margin-left:0;padding-left:20px;border-top:1px solid #eee;padding-top:3px;padding-bottom:0px}nav ul li ul li ol li,nav ul li ol li ol li,nav ol li ul li ol li,nav ol li ol li ol li{list-style:decimal}@media only screen and (max-width: 870px){.container nav{display:none}amp-sidebar nav{margin-right:0;border-right:none;margin-top:0;padding-left:36px}}pre{overflow:auto;tab-size:2;word-break:normal;line-height:1.4;background:#F7F7F7}pre>code{white-space:pre;word-wrap:initial;display:block}pre>code td{border:0}.highlight .hll{background-color:#ffc}.highlight .c{color:#aaaaaa;font-style:italic}.highlight .err{color:#F00000}.highlight .k{color:#00a}.highlight .cm{color:#aaaaaa;font-style:italic}.highlight .cp{color:#4c8317}.highlight .c1{color:#aaaaaa;font-style:italic}.highlight .cs{color:#0000aa;font-style:italic}.highlight .gd{color:#a00}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#000080;font-weight:bold}.highlight .gi{color:#0a0}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#800080;font-weight:bold}.highlight .gt{color:#a00}.highlight .kc{color:#00a}.highlight .kd{color:#00a}.highlight .kn{color:#00a}.highlight .kp{color:#00a}.highlight .kr{color:#00a}.highlight .kt{color:#0aa}.highlight .m{color:#099}.highlight .s{color:#a50}.highlight .na{color:#1e90ff}.highlight .nb{color:#0aa}.highlight .nc{color:#00aa00;text-decoration:underline}.highlight .no{color:#a00}.highlight .nd{color:#888}.highlight .ni{color:#800000;font-weight:bold}.highlight .nf{color:#0a0}.highlight .nn{color:#00aaaa;text-decoration:underline}.highlight .nt{color:#1e90ff;font-weight:bold}.highlight .nv{color:#a00}.highlight .ow{color:#00a}.highlight .w{color:#bbb}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .sb{color:#a50}.highlight .sc{color:#a50}.highlight .sd{color:#a50}.highlight .s2{color:#a50}.highlight .se{color:#a50}.highlight .sh{color:#a50}.highlight .si{color:#a50}.highlight .sx{color:#a50}.highlight .sr{color:#099}.highlight .s1{color:#a50}.highlight .ss{color:#00a}.highlight .bp{color:#0aa}.highlight .vc{color:#a00}.highlight .vg{color:#a00}.highlight .vi{color:#a00}.highlight .il{color:#099}.highlight .lineno{-webkit-user-select:none;-moz-user-select:none;-o-user-select:none}.lineno::-moz-selection{background-color:transparent}.lineno::selection{background-color:transparent}footer{padding:40px 0 60px 100px;background-color:#f5f5f5}footer p{margin:0}footer .footer-image{height:25px;width:25px;padding-left:25px;float:right}
    </style>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:200,300,400,500,700">
  </head>

  <body>
    <amp-analytics type="googleanalytics" id="analytics-ga">
    <script type="application/json">
    {
      "vars": {
        "account": "UA-67833617-1"
      },
      "triggers": {
        "trackPageview": {
          "on": "visible",
          "request": "pageview"
        }
      }
    }
    </script>
    </amp-analytics>

    <amp-sidebar id='sidebar' side='right' layout='nodisplay'>
              
        <nav>
          <ul>
            
            

            <li>
            <h2>Get Started</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/about-amp.html">What Is AMP?</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/create_page.html">Create Your First AMP Page</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/technical_overview.html">How AMP Speeds Up Performance</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Guides</h2>

            <ul>
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/responsive_amp.html">Create Responsive AMP Pages</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/amp_replacements.html">Include Iframes and Media</a>
                

                

                </li>
                

              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/third_party_components.html">Include Third-Party Content</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/discovery.html">Make Your Page Discoverable</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/validate.html">Validate AMP Pages</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/analytics_amp.html">Configure Analytics</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Reference</h2>

            <ul>
              
              
              

                
                

                
                
                <li class="current">
                  <span>amp-ad</span>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-embed.html">amp-embed</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-img.html">amp-img</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-pixel.html">amp-pixel</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-video.html">amp-video</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/extended.html">Extended components</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/experimental.html">Experimental Components</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/spec.html">AMP HTML Specification</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/validation_errors.html">AMP Validation Errors</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Support</h2>

            <ul>
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/support/faqs.html">FAQ</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="https://amphtml.wordpress.com">Blog</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="https://stackoverflow.com/questions/tagged/amp-html">Stack Overflow</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/support/contribute.html">How to Contribute</a>
                

                

                </li>
                

              
              
            </ul>
            </li>
            
            
            
            
          </ul>
        </nav>
        

    </amp-sidebar>

    <header class="fixed">
      <div class="wrap">
        <div class="container">
          <div class="clearfix">
          <div class="left-nav">
              <a href="https://ampproject.org" class="tab header-title">
                <span>Accelerated
                Mobile
                Pages
                Project</span>
              </a>
            </div>
            <div class="right alt">
              <a class="tab desktop" href="/docs/support/faqs.html">
                FAQ
              </a>
              <a class="tab desktop" href="https://amphtml.wordpress.com">
                Blog
              </a>
              <a class="tab desktop" href="https://github.com/ampproject/amphtml">
                GitHub
              </a>
              <a class="tab desktop" href="/docs/get_started/about-amp.html">
                Docs
              </a>
              <button class="tab hamburger" id="menu-button" on='tap:sidebar.toggle'>&#x2261;</button>
            </div>
          </div>
        </div>
      </div>
    </header>


    <div class="wrap">
      <div class="container main">
        
        <nav>
          <ul>
            
            

            <li>
            <h2>Get Started</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/about-amp.html">What Is AMP?</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/create_page.html">Create Your First AMP Page</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/technical_overview.html">How AMP Speeds Up Performance</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Guides</h2>

            <ul>
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/responsive_amp.html">Create Responsive AMP Pages</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/amp_replacements.html">Include Iframes and Media</a>
                

                

                </li>
                

              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/third_party_components.html">Include Third-Party Content</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/discovery.html">Make Your Page Discoverable</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/validate.html">Validate AMP Pages</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/analytics_amp.html">Configure Analytics</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Reference</h2>

            <ul>
              
              
              

                
                

                
                
                <li class="current">
                  <span>amp-ad</span>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-embed.html">amp-embed</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-img.html">amp-img</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-pixel.html">amp-pixel</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/amp-video.html">amp-video</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/extended.html">Extended components</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/experimental.html">Experimental Components</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/spec.html">AMP HTML Specification</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/validation_errors.html">AMP Validation Errors</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Support</h2>

            <ul>
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/support/faqs.html">FAQ</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="https://amphtml.wordpress.com">Blog</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="https://stackoverflow.com/questions/tagged/amp-html">Stack Overflow</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/support/contribute.html">How to Contribute</a>
                

                

                </li>
                

              
              
            </ul>
            </li>
            
            
            
            
          </ul>
        </nav>
        

        <div class="content">
          <!-- article -->
          <article class="post">

    <h1 class="post-title">amp-ad</h1>

	<div class="post-content">
	    <p>NOTE: The specification of <code class="highlighter-rouge">amp-ad</code> is likely to significantly evolve over time. The current approach is designed to bootstrap the format to be able to show ads.</p>

<!---
Copyright 2015 The AMP HTML Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS-IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<table>
  <tr>
    <td class="col-fourty"><strong>Description</strong></td>
    <td>A container to display an ad. AMP documents only support ads served via HTTPS.</td>
  </tr>
  <tr>
    <td class="col-fourty"><strong>Availability</strong></td>
    <td>Stable</td>
  </tr>
  <tr>
    <td width="40%"><strong>Required Script</strong></td>
    <td><code>&lt;script async custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"&gt;&lt;/script&gt;</code></td>
  </tr>
  <tr>
    <td class="col-fourty"><strong><a href="https://www.ampproject.org/docs/guides/responsive/control_layout.html">Supported Layouts</a></strong></td>
    <td>FILL, FIXED, FIXED_HEIGHT, FLEX_ITEM, NODISPLAY, RESPONSIVE</td>
  </tr>
  <tr>
    <td class="col-fourty"><strong>Examples</strong></td>
    <td><a href="https://ampbyexample.com/components/amp-ad">amp-ad.html</a><br /><a href="https://github.com/ampproject/amphtml/blob/master/examples/ads.amp.html">ads.amp.html</a></td>
  </tr>
</table>

<h2 id="behavior">Behavior</h2>

<p>Ads are loaded like all other resources in AMP documents, with a special
custom element called <code class="highlighter-rouge">&lt;amp-ad&gt;</code>. No ad network provided JavaScript is allowed to run inside the AMP document. Instead the AMP runtime loads an iframe from a
different origin (via iframe sandbox) as the AMP document and executes the ad
network’s JS inside that iframe sandbox.</p>

<p>The <code class="highlighter-rouge">&lt;amp-ad&gt;</code> requires width and height values to be specified like all
resources in AMP. It requires a <code class="highlighter-rouge">type</code> argument that select what ad network is displayed. All <code class="highlighter-rouge">data-*</code> attributes on the tag are automatically passed as arguments to the code that eventually renders the ad. What <code class="highlighter-rouge">data-</code> attributes are required for a given type of network depends and must be documented with the ad network.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-ad</span> <span class="na">width=</span><span class="s">300</span> <span class="na">height=</span><span class="s">250</span>
    <span class="na">type=</span><span class="s">"a9"</span>
    <span class="na">data-aax_size=</span><span class="s">"300x250"</span>
    <span class="na">data-aax_pubname=</span><span class="s">"test123"</span>
    <span class="na">data-aax_src=</span><span class="s">"302"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/amp-ad&gt;</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-ad</span> <span class="na">width=</span><span class="s">320</span> <span class="na">height=</span><span class="s">140</span>
    <span class="na">type=</span><span class="s">"colombia"</span>
    <span class="na">layout=</span><span class="s">responsive</span>
    <span class="na">data-clmb_slot=</span><span class="s">"129883"</span>
    <span class="na">data-clmb_position=</span><span class="s">"1"</span>
    <span class="na">data-clmb_section=</span><span class="s">"0"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/amp-ad&gt;</span></code></pre></figure>

<h2 id="supported-ad-networks">Supported ad networks</h2>

<ul>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/a9.md">A9</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/adblade.md">Adblade</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/adition.md">ADITION</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/adform.md">Adform</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/adman.md">Adman</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/adreactor.md">AdReactor</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/google/adsense.md">AdSense</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/adstir.md">AdStir</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/adtech.md">AdTech</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/adup.md">Ad Up Technology</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/appnexus.md">AppNexus</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/colombia.md">Colombia</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/criteo.md">Criteo</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/dotandads.md">Dot and Media</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/google/doubleclick.md">Doubleclick</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/eplanning.md">E-Planning</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/flite.md">Flite</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/gmossp.md">GMOSSP</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/imobile.md">I-Mobile</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/improvedigital.md">Improve Digital</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/industrybrains.md">Industrybrains</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/mantis.md">MANTIS</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/mediaimpact.md">MediaImpact</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/openadstream.md">Open AdStream (OAS)</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/microad.md">MicroAd</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/openx.md">OpenX</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/plista.md">plista</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/pubmatic.md">PubMatic</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/revcontent.md">Revcontent</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/rubicon.md">Rubicon Project</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/sharethrough.md">Sharethrough</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/smartadserver.md">Smart AdServer</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/sortable.md">Sortable</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/triplelift.md">TripleLift</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/teads.md">Teads</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/webediads.md">Webediads</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/weborama.md">Weborama</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/yieldbot.md">Yieldbot</a></li>
  <li><a href="https://github.com/ampproject/amphtml/blob/master/builtins/../ads/yieldmo.md">Yieldmo</a></li>
</ul>

<h2 id="styling">Styling</h2>

<p><code class="highlighter-rouge">&lt;amp-ad&gt;</code> elements may not themselves have or be placed in containers that have CSS <code class="highlighter-rouge">position: fixed</code> set (with the exception of <code class="highlighter-rouge">amp-lightbox</code>).
This is due to the UX implications of full page overlay ads. It may be considered to allow similar ad formats in the future inside of AMP controlled containers that maintain certain UX invariants.</p>

<h2 id="attributes">Attributes</h2>

<h3 id="type">type</h3>

<p>Identifier for the ad network. This selects the template that is used for the ad tag.</p>

<h3 id="src">src</h3>

<p>Optional src value for a script tag loaded for this ad network. This can be used with ad networks that require exactly a single script tag to be inserted in the page. The src value must have a prefix that is whitelisted for this ad network.</p>

<h3 id="data-foo-bar">data-foo-bar</h3>

<p>Most ad networks require further configuration. This can be passed to the network using HTML <code class="highlighter-rouge">data-</code> attributes. The parameter names are subject to standard data attribute dash to camel case conversion. E.g. “data-foo-bar” is send to the ad for configuration as “fooBar”.</p>

<h3 id="json">json</h3>

<p>Optional attribute to pass configuration to the ad as an arbitrarily complex JSON object. The object is passed to the ad as-is with no mangling done on the names.</p>

<h3 id="data-consent-notification-id">data-consent-notification-id</h3>

<p>Optional attribute. If provided will require confirming the <a href="https://github.com/ampproject/amphtml/blob/master/builtins/../extensions/amp-user-notification/amp-user-notification.md">amp-user-notification</a> with the given HTML-id until the “AMP client id” for the user (similar to a cookie) is passed to the ad. The means ad rendering is delayed until the user confirmed the notification.</p>

<h3 id="experimental-data-loading-strategy">Experimental: data-loading-strategy</h3>

<p>Supported value: <code class="highlighter-rouge">prefer-viewability-over-views</code>. Instructs AMP to load ads in a way that prefers a high degree of viewability, while sometimes loading too late to generate a view.</p>

<h2 id="placeholder">Placeholder</h2>

<p>Optionally <code class="highlighter-rouge">amp-ad</code> supports a child element with the <code class="highlighter-rouge">placeholder</code> attribute. If supported by the ad network, this element is shown until the ad is available for viewing.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-ad</span> <span class="na">width=</span><span class="s">300</span> <span class="na">height=</span><span class="s">250</span>
    <span class="na">type=</span><span class="s">"foo"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">placeholder</span><span class="nt">&gt;</span>Have a great day!<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/amp-ad&gt;</span></code></pre></figure>

<h2 id="no-ad-available">No Ad available</h2>

<ul>
  <li><code class="highlighter-rouge">amp-ad</code> supports a child element with the <code class="highlighter-rouge">fallback</code> attribute. If supported by the ad network, this element is shown if no ad is available for this slot.</li>
</ul>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-ad</span> <span class="na">width=</span><span class="s">300</span> <span class="na">height=</span><span class="s">250</span>
    <span class="na">type=</span><span class="s">"foo"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">fallback</span><span class="nt">&gt;</span>Have a great day!<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/amp-ad&gt;</span></code></pre></figure>

<ul>
  <li>If there is no fallback element available, the amp-ad tag will be collapsed (set to display: none) if the ad sends a message that the ad slot cannot be filled and AMP determines that this operation can be performed without affecting the user’s scroll position.</li>
</ul>

<h2 id="running-ads-from-a-custom-domain">Running ads from a custom domain</h2>

<p>AMP supports loading the bootstrap iframe that is used to load ads from a custom domain such as your own domain.</p>

<p>To enable this, copy the file <a href="https://github.com/ampproject/amphtml/blob/master/builtins/../3p/remote.html">remote.html</a> to your web server. Next up add the following meta tag to your AMP file(s):</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"amp-3p-iframe-src"</span> <span class="na">content=</span><span class="s">"https://assets.your-domain.com/path/to/remote.html"</span><span class="nt">&gt;</span></code></pre></figure>

<p>The <code class="highlighter-rouge">content</code> attribute of the meta tag is the absolute URL to your copy of the remote.html file on your web server. This URL must use a “https” schema. It is not allowed to reside on the same origin as your AMP files. E.g. if you host AMP files on “www.example.com”, this URL must not be on “www.example.com” but e.g. “something-else.example.com” is OK. See the doc <a href="https://github.com/ampproject/amphtml/blob/master/builtins/../spec/amp-iframe-origin-policy.md">“Iframe origin policy”</a> for further details on allowed origins for iframes.</p>

<h3 id="security">Security</h3>

<p><strong>Validate incoming data</strong> before passing it on to the <code class="highlighter-rouge">draw3p</code> function, to make sure your iframe only does things it expects to do. This is true, in particular, for ad networks that allow custom JavaScript injection.</p>

<p>Iframes should also enforce that they are only iframed into origins that they expect to be iframed into. The origins would be:</p>

<ul>
  <li>your own origins</li>
  <li>https://cdn.ampproject.org for the AMP cache</li>
</ul>

<p>In the case of the AMP cache you also need to check that the “source origin” (origin of the document served by cdn.ampproject.org) is one of your origins.</p>

<p>Enforcing origins can be done with the 3rd argument to <code class="highlighter-rouge">draw3p</code> and must additionally be done using the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/X-Frame-Options">allow-from</a> directive for full browser support.</p>

<h3 id="enhance-incoming-ad-configuration">Enhance incoming ad configuration</h3>

<p>This is completely optional: It is sometimes desired to further process the incoming iframe configuration before drawing the ad using AMP’s built-in system.</p>

<p>This is supported by passing a callback to the <code class="highlighter-rouge">draw3p</code> function call in the <a href="https://github.com/ampproject/amphtml/blob/master/builtins/../3p/remote.html">remote.html</a> file. The callback receives the incoming configuration as first argument and then receives another callback as second argument (Called <code class="highlighter-rouge">done</code> in the example below). This callback must be called with the updated config in order for ad rendering to proceed.</p>

<p>Example:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">draw3p</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">config</span><span class="p">,</span> <span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">config</span><span class="p">.</span><span class="nx">targeting</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mf">0.5</span> <span class="p">?</span> <span class="s1">'sport'</span> <span class="p">:</span> <span class="s1">'fashion'</span><span class="p">;</span>
  <span class="c1">// Don't actually call setTimeout here. This should only serve as an</span>
  <span class="c1">// example that is OK to call the done callback asynchronously.</span>
  <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">done</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
  <span class="p">},</span> <span class="mi">100</span><span class="p">)</span>
<span class="p">},</span> <span class="p">[</span><span class="s1">'allowed-ad-type'</span><span class="p">],</span> <span class="p">[</span><span class="s1">'your-domain.com'</span><span class="p">]);</span></code></pre></figure>

<h2 id="validation">Validation</h2>

<p>See <a href="https://github.com/ampproject/amphtml/blob/master/validator/validator-main.protoascii">amp-ad rules</a> in the AMP validator specification.</p>

<h2 id="notes">Notes</h2>

<p>To use <code class="highlighter-rouge">&lt;amp-ad&gt;</code>, the script to the <code class="highlighter-rouge">amp-ad</code> library is needed. It is recommended to add the script manually but currently it will be automatically fetched when <code class="highlighter-rouge">amp-ad</code> is used.</p>

	</div>

</article>

          <!-- /article -->
        </div>
      </div>
    </div>

    <footer>
      <div class="container">
        <div class="row">
          <div class="twelve columns">
          </div>
        </div>
    </footer>
  </body>
</html>
