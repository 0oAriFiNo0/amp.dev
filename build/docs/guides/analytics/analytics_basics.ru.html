<!DOCTYPE html>
<html ⚡>
  <head>
    <meta charset="utf-8">
    <title>Analytics&#58; основы</title>
    <link rel="canonical" href="https://www.ampproject.org/docs/guides/analytics/analytics_basics.ru.html">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <meta property="og:description" content="Ознакомьтесь с основами аналитики AMP.">
    <meta name="description" content="Ознакомьтесь с основами аналитики AMP.">
    <link rel="shortcut icon" href="/docs/assets/amp_favicon.png?v=2">

    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    <script async custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>
    <script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>

    <style amp-custom>
    body,blockquote,pre,hr,dl,dd,ol,ul,figure{margin:0;padding:0}html,body{background-color:#fbfafb;font-family:Roboto,verdana,arial,sans-serif;margin:0;overflow-x:hidden;padding:0}body{padding-top:66px}ul li,ol li{color:#333;font-size:16px;font-weight:300;line-height:24px}p{color:#333;font-size:16px;font-weight:300;line-height:24px}.container{box-sizing:border-box;margin:0 auto;max-width:1000px;padding:0 20px}.container.md{max-width:800px}.wrap{background-color:#fff;margin:0 auto}.centered{text-align:center}@media only screen and (max-width: 870px){.centered{text-align:left}}.align-right{text-align:right}.clearfix:after{content:"";display:table;clear:both}.clearfix .left{float:left}.clearfix .right{float:right}.clearfix .fill{overflow:hidden;width:auto}h1,h2,h3,h4,h5{color:#147bc1;font-weight:300;margin-top:1.1em;margin-bottom:0.5em}h1{font-size:43px}h2{font-size:36px}h3{font-size:26px}a{color:#0360B5;text-decoration:none}a:hover{text-decoration:underline}a.button{padding:1em;display:block;background-color:#F5F5F5;text-align:center}blockquote{color:#797c82;border-left:4px solid #f5f5f5;padding-left:15px;font-size:18px;letter-spacing:-1px;font-style:italic}blockquote>:last-child{margin-bottom:0}code{font-size:15px;border:1px solid #f5f5f5;border-radius:3px}code{padding:1px 5px}table{border-collapse:collapse}td,th{border:1px solid #FFFFFF;background:#F7F7F7;padding:0.5rem;text-align:left}td.col-fourty{width:40%}td.col-thirty{width:30%}th{background:#eee}th.col-twenty{width:20%}header{-webkit-box-shadow:rgba(0,0,0,0.15) 1px 1px 14px;-moz-box-shadow:rgba(0,0,0,0.15) 1px 1px 14px;box-shadow:rgba(0,0,0,0.15) 1px 1px 14px;font-size:14px;font-weight:300;transform:translateZ(0);backface-visibility:hidden;background-color:#fff}header .container{padding:0}@media only screen and (max-width: 870px){header .container{padding:0 10px}}header.absolute,header.fixed{-moz-transform:translateY(0%);-o-transform:translateY(0%);-ms-transform:translateY(0%);-webkit-transform:translateY(0%);transform:translateY(0%);-moz-transition:all 0.25s ease;-o-transition:all 0.25s ease;-ms-transition:all 0.25s ease;-webkit-transition:all 0.25s ease;transition:all 0.25s ease;left:0;position:fixed;top:0;width:100%;z-index:1000}header.absolute{position:absolute}header.nav--pinned,header.nav--unpinned,header.nav--top{position:fixed}@media only screen and (max-width: 870px){header.nav--pinned,header.nav--unpinned,header.nav--top{position:relative}}header.nav--pinned,header.nav--unpinned{background:#147bc1}header.nav--top{background-color:transparent}header.hidden{display:block}@media only screen and (max-width: 870px){header.hidden{-moz-transform:translateY(-100%);-o-transform:translateY(-100%);-ms-transform:translateY(-100%);-webkit-transform:translateY(-100%);transform:translateY(-100%)}}header.menu-open{transform:translate(-243px, 0px)}@media only screen and (max-width: 870px){header .wrap{color:transparent}}header .content.mobile-show{padding:0 10px 5px}header .left-nav{-webkit-box-align:center;-moz-box-align:center;box-align:center;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-ms-flex-align:center;display:-webkit-box;display:-moz-box;display:box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start;-ms-flex-pack:start;float:left;font-size:14px;letter-spacing:0.04em;margin-left:0}@media only screen and (max-width: 870px){header .left-nav{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start;-ms-flex-pack:start;flex:1 1 auto;padding:0 0 5px 0;text-align:left;width:auto}}header .left-nav .header-title{background-image:url("/docs/assets/logo-blue.svg");background-position:center left;background-repeat:no-repeat;background-size:40px 40px;color:#147bc1;font-family:Roboto, verdana, arial, sans-serif;margin:10px 0;padding:15px 10px 15px 50px;text-transform:none;white-space:nowrap;width:auto}@media only screen and (max-width: 870px){header .left-nav .header-title{line-height:41px;margin:6px 0;padding:0 0 0 50px;width:auto}}@media only screen and (max-width: 870px){header .clearfix{display:flex;flex-wrap:wrap-reverse}}header .alt{padding:15px 0;text-align:right;display:-webkit-box;display:-moz-box;display:box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-moz-box-align:center;box-align:center;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-ms-flex-align:center;-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-ms-flex-pack:center}header .alt.right{letter-spacing:0.04em;font-size:14px}@media only screen and (max-width: 870px){header .alt.right{float:right;text-align:center;flex:0;padding:0 0 10px;font-size:12px;display:inline-block}}header .tab{color:#147bc1;display:inline-block;padding:10px 15px;text-decoration:none;text-transform:uppercase}@media only screen and (max-width: 870px){header .tab{margin-left:auto;padding:10px 12px}}header .tab.go-button{-webkit-box-shadow:-1px 6px 6px -3px rgba(0,0,0,0.22);-moz-box-shadow:-1px 6px 6px -3px rgba(0,0,0,0.22);box-shadow:-1px 6px 6px -3px rgba(0,0,0,0.22);background-color:#147bc1;border:0;border-radius:4px;color:#fff;font-family:Roboto, verdana, arial, sans-serif;font-size:14px;font-weight:500;padding:10px 20px;margin-left:10px;text-transform:uppercase}@media only screen and (max-width: 870px){header .tab.go-button{margin-right:5px;margin-left:auto;padding:8px 10px}}header .tab.go-button:hover{text-decoration:none}header .tab.hamburger{font-size:50px;line-height:38px;background:none;border:none;margin-top:0;padding-top:0;position:relative;top:4px;display:none}@media only screen and (max-width: 870px){header .tab.desktop{display:none}header .tab.hamburger{display:inline-block}}@media only screen and (max-width: 320px){header .header-title span{display:none}header .header-title::after{content:"AMP"}}.main{display:-webkit-flex;display:flex;padding-top:40px;padding-bottom:30px}.main h1{margin-top:0}.main h1:before,.main h2:before,.main h3:before,.main h4:before,.main h5:before{display:block;content:" ";margin-top:-106px;height:106px;visibility:hidden}.main .content{flex-grow:1;-webkit-flex-grow:1;transition:all 0.25s ease;transform:translate(0, 0);will-change:transform;word-break:break-word;min-width:0}.main .content.menu-open{transform:translate(-243px, 0)}.main .content ul,.main .content ol{margin-left:40px}.main .content{overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.main amp-img,.main amp-youtube,.main amp-iframe{margin:1em 0}nav{border-right:2px solid #E6E6E6;padding:20px;margin-right:30px;margin-left:-20px;width:200px;flex-shrink:0;-webkit-flex-shrink:0;background:#F7F7F7;margin-top:-40px;margin-bottom:-30px}nav h2{font-size:20px;color:#111;margin-top:0;margin-bottom:10px}nav ul li,nav ol li{margin-bottom:10px;list-style:none}nav ul li ul,nav ul li ol,nav ol li ul,nav ol li ol{padding-left:0;margin-left:20px;margin-bottom:1.2em}nav ul li ul li,nav ul li ol li,nav ol li ul li,nav ol li ol li{margin-bottom:6px;font-size:14px;list-style:square;color:#CECECE}nav ul li ul li.current,nav ul li ol li.current,nav ol li ul li.current,nav ol li ol li.current{color:#222}nav ul li ul li span,nav ul li ol li span,nav ol li ul li span,nav ol li ol li span{font-weight:400;color:#222}nav ul li ul li ul,nav ul li ul li ol,nav ul li ol li ul,nav ul li ol li ol,nav ol li ul li ul,nav ol li ul li ol,nav ol li ol li ul,nav ol li ol li ol{margin-bottom:0;margin-left:0;padding-left:20px;border-top:1px solid #eee;padding-top:3px;padding-bottom:0px}nav ul li ul li ol li,nav ul li ol li ol li,nav ol li ul li ol li,nav ol li ol li ol li{list-style:decimal}@media only screen and (max-width: 870px){.container nav{display:none}amp-sidebar nav{margin-right:0;border-right:none;margin-top:0;padding-left:36px}}pre{overflow:auto;tab-size:2;word-break:normal;line-height:1.4;background:#F7F7F7}pre>code{white-space:pre;word-wrap:initial;display:block}pre>code td{border:0}.highlight .hll{background-color:#ffc}.highlight .c{color:#aaaaaa;font-style:italic}.highlight .err{color:#F00000}.highlight .k{color:#00a}.highlight .cm{color:#aaaaaa;font-style:italic}.highlight .cp{color:#4c8317}.highlight .c1{color:#aaaaaa;font-style:italic}.highlight .cs{color:#0000aa;font-style:italic}.highlight .gd{color:#a00}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#000080;font-weight:bold}.highlight .gi{color:#0a0}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#800080;font-weight:bold}.highlight .gt{color:#a00}.highlight .kc{color:#00a}.highlight .kd{color:#00a}.highlight .kn{color:#00a}.highlight .kp{color:#00a}.highlight .kr{color:#00a}.highlight .kt{color:#0aa}.highlight .m{color:#099}.highlight .s{color:#a50}.highlight .na{color:#1e90ff}.highlight .nb{color:#0aa}.highlight .nc{color:#00aa00;text-decoration:underline}.highlight .no{color:#a00}.highlight .nd{color:#888}.highlight .ni{color:#800000;font-weight:bold}.highlight .nf{color:#0a0}.highlight .nn{color:#00aaaa;text-decoration:underline}.highlight .nt{color:#1e90ff;font-weight:bold}.highlight .nv{color:#a00}.highlight .ow{color:#00a}.highlight .w{color:#bbb}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .sb{color:#a50}.highlight .sc{color:#a50}.highlight .sd{color:#a50}.highlight .s2{color:#a50}.highlight .se{color:#a50}.highlight .sh{color:#a50}.highlight .si{color:#a50}.highlight .sx{color:#a50}.highlight .sr{color:#099}.highlight .s1{color:#a50}.highlight .ss{color:#00a}.highlight .bp{color:#0aa}.highlight .vc{color:#a00}.highlight .vg{color:#a00}.highlight .vi{color:#a00}.highlight .il{color:#099}.highlight .lineno{-webkit-user-select:none;-moz-user-select:none;-o-user-select:none}.lineno::-moz-selection{background-color:transparent}.lineno::selection{background-color:transparent}footer{padding:40px 0 60px 100px;background-color:#f5f5f5}footer p{margin:0}footer .footer-image{height:25px;width:25px;padding-left:25px;float:right}
    </style>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:200,300,400,500,700">
  </head>

  <body>
    <amp-analytics type="googleanalytics" id="analytics-ga">
    <script type="application/json">
    {
      "vars": {
        "account": "UA-67833617-1"
      },
      "triggers": {
        "trackPageview": {
          "on": "visible",
          "request": "pageview"
        }
      }
    }
    </script>
    </amp-analytics>

    <amp-sidebar id='sidebar' side='right' layout='nodisplay'>
              
        <nav>
          <ul>
            
            

            <li>
            <h2>Начало работы</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/about-amp.ru.html">Что такое AMP?</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/create_page.ru.html">Создание первой страницы AMP</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/technical_overview.ru.html">Как AMP ускоряет загрузку страниц</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Руководства</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/analytics_amp.ru.html">Настройка Analytics</a>
                

                
                  <ul>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li class="current">
                      <span>Analytics&#58; основы</span>
                    </li>
                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/guides/analytics/deep_dive_analytics.ru.html">Погружение в AMP Analytics</a>
                    </li>
                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/guides/analytics/use_cases.ru.html">Примеры использования</a>
                    </li>
                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  </ul>
                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Дополнительные материалы</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Поддержка</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            
            
          </ul>
        </nav>
        

    </amp-sidebar>

    <header class="fixed">
      <div class="wrap">
        <div class="container">
          <div class="clearfix">
          <div class="left-nav">
              <a href="https://ampproject.org" class="tab header-title">
                <span>Accelerated
                Mobile
                Pages
                Project</span>
              </a>
            </div>
            <div class="right alt">
              <a class="tab desktop" href="/docs/support/faqs.html">
                Вопросы и ответы
              </a>
              <a class="tab desktop" href="https://amphtml.wordpress.com">
                Блог
              </a>
              <a class="tab desktop" href="https://github.com/ampproject/amphtml">
                GitHub
              </a>
              <a class="tab desktop" href="/docs/get_started/about-amp.html">
                Документация
              </a>
              <button class="tab hamburger" id="menu-button" on='tap:sidebar.toggle'>&#x2261;</button>
            </div>
          </div>
        </div>
      </div>
    </header>


    <div class="wrap">
      <div class="container main">
        
        <nav>
          <ul>
            
            

            <li>
            <h2>Начало работы</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/about-amp.ru.html">Что такое AMP?</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/create_page.ru.html">Создание первой страницы AMP</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/technical_overview.ru.html">Как AMP ускоряет загрузку страниц</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Руководства</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/analytics_amp.ru.html">Настройка Analytics</a>
                

                
                  <ul>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li class="current">
                      <span>Analytics&#58; основы</span>
                    </li>
                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/guides/analytics/deep_dive_analytics.ru.html">Погружение в AMP Analytics</a>
                    </li>
                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/guides/analytics/use_cases.ru.html">Примеры использования</a>
                    </li>
                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  </ul>
                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Дополнительные материалы</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Поддержка</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            
            
          </ul>
        </nav>
        

        <div class="content">
          <!-- article -->
          <article class="post">

    <h1 class="post-title">Analytics&#58; основы</h1>

	<div class="post-content">
	    <p>Ознакомьтесь с основами аналитики AMP.</p>

<ul id="markdown-toc">
  <li><a href="#amp-pixel--amp-analytics" id="markdown-toc-amp-pixel--amp-analytics">Что использовать: amp-pixel или amp-analytics?</a></li>
  <li><a href="#section" id="markdown-toc-section">Создание простой конфигурации аналитики</a>    <ul>
      <li><a href="#amp-pixel" id="markdown-toc-amp-pixel">Простая конфигурация amp-pixel</a></li>
      <li><a href="#amp-analytics" id="markdown-toc-amp-analytics">Простая конфигурация amp-analytics</a></li>
    </ul>
  </li>
  <li><a href="#section-1" id="markdown-toc-section-1">Подстановка переменной</a></li>
  <li><a href="#section-2" id="markdown-toc-section-2">Идентификация пользователей</a></li>
</ul>

<h2 id="amp-pixel--amp-analytics">Что использовать: amp-pixel или amp-analytics?</h2>

<p>AMP предоставляет два компонента для удовлетворения потребностей в анализе и измерениях:
<a href="/docs/reference/amp-pixel.html">amp-pixel</a> и
<a href="/docs/reference/extended/amp-analytics.html">amp-analytics</a>.
Оба инструмента отправляют аналитические данные в определенный конечный пункт.</p>

<p>Если вам нужны такие функции, как простое
<a href="https://en.wikipedia.org/wiki/Web_beacon#Implementation">отслеживание пикселя</a>,
компонент <code class="highlighter-rouge">amp-pixel</code> предоставит базовые возможности отслеживания количества просмотров страницы;
данные о просмотрах страницы будут отправляться на определенный URL-адрес.
Этот компонент может потребоваться в некоторых интегрированных системах с участием поставщиков услуг.
В этом случае для него будет указан точный конечный URL-адрес.</p>

<p>В большинстве аналитических решений используется <code class="highlighter-rouge">amp-analytics</code>.
В <code class="highlighter-rouge">amp-analytics</code> есть возможность отслеживать количество просмотров страницы.
Но вы также сможете отслеживать интерес пользователей к какому-либо виду содержимого страницы,
включая переходы по ссылкам и кнопкам.
Вы можете узнать, насколько далеко пользователь выполнил прокрутку страницы,
связан ли он с социальными сетями и многое другое 
(см.
<a href="/docs/guides/analytics/deep_dive_analytics.html">Погружение в AMP Analytics</a>).</p>

<p>В процессе интеграции платформы AMP
поставщики предлагают предварительно заданные конфигурации <code class="highlighter-rouge">amp-analytics</code>,
что упрощает получение данных и их передачу в инструменты отслеживания.
Ознакомьтесь с документацией о поставщиках аналитических данных в
<a href="/docs/reference/extended/amp-analytics.html">спецификации amp-analytics</a>.</p>

<p>Вы можете использовать на своих страницах как компонент<code class="highlighter-rouge">amp-pixel</code>, так и <code class="highlighter-rouge">amp-analytics</code>:
<code class="highlighter-rouge">amp-pixel</code> для простого отслеживания количества просмотров страницы,
а <code class="highlighter-rouge">amp-analytics</code> – для всего остального.
Вы также можете добавить несколько экземпляров каждого тега.
Если вы работаете с несколькими поставщиками аналитических данных,
вам потребуется по одному тегу для каждого решения.
Следует помнить, что чем проще страницы AMP, тем лучше они для пользователей,
поэтому не используйте те теги, в которых нет необходимости.</p>

<h2 id="section">Создание простой конфигурации аналитики</h2>

<p>Узнайте, как создать простую
конфигурацию <a href="/docs/reference/amp-pixel.html">amp-pixel</a> и
<a href="/docs/reference/extended/amp-analytics.html">amp-analytics</a>.</p>

<h3 id="amp-pixel">Простая конфигурация amp-pixel</h3>

<p>Чтобы создать простую конфигурацию <code class="highlighter-rouge">amp-pixel</code>,
вставьте в тело вашей страницы строку AMP, сходную по содержанию со следующей строкой:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-pixel</span> <span class="na">src=</span><span class="s">"https://foo.com/pixel?RANDOM"</span><span class="nt">&gt;&lt;/amp-pixel&gt;</span></code></pre></figure>

<p>В этом примере
данные о просмотрах страницы отправляются на определенный URL-адрес вместе со случайным числом.
Переменная <code class="highlighter-rouge">RANDOM</code> является одной из многих 
<a href="https://github.com/ampproject/amphtml/blob/master/spec/amp-var-substitutions.md">подстановочных переменных в платформе AMP</a>.
Вы можете ознакомиться с дополнительной информацией о
<a href="/docs/guides/analytics/analytics_basics.html#variable-substitution">подстановке переменных</a>.</p>

<p>Компонент <a href="/docs/reference/amp-pixel.html">amp-pixel</a>
является встроенным,
поэтому вам не требуется объявлять включение, как это делается для
расширенных компонентов AMP, в том числе для <code class="highlighter-rouge">amp-analytics</code>.
Однако вы должны вставить тег <code class="highlighter-rouge">amp-pixel</code> как можно ближе к
началу раздела <code class="highlighter-rouge">&lt;body&gt;</code>.
Отслеживающий пиксель будет срабатывать только тогда, когда сам тег попадет в область просмотра.
Если тег <code class="highlighter-rouge">amp-pixel</code> расположен в нижней части страницы,
он может не сработать.</p>

<h3 id="amp-analytics">Простая конфигурация amp-analytics</h3>

<p>Чтобы создать простую конфигурацию
<a href="/docs/reference/extended/amp-analytics.html">amp-analytics</a>,
необходимо сначала включить следующую декларацию <code class="highlighter-rouge">custom-element</code>
в раздел <code class="highlighter-rouge">&lt;head&gt;</code> документа AMP (см. также
<a href="/docs/reference/extended.html#component-inclusion-declaration">Объявление включения компонента</a>):</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script </span><span class="na">async</span> <span class="na">custom-element=</span><span class="s">"amp-analytics"</span> <span class="na">src=</span><span class="s">"https://cdn.ampproject.org/v0/amp-analytics-0.1.js"</span><span class="nt">&gt;&lt;/script&gt;</span></code></pre></figure>

<p>Следующий пример похож на <a href="/docs/guides/analytics/analytics_basics.html#simple-amp-pixel-configuration">пример с <code class="highlighter-rouge">amp-pixel</code></a>.
При каждом просмотре страницы
возникает событие триггера и
данные запроса pageview отправляются на определенный URL-адрес вместе со случайным значением идентификатора:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-analytics&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"application/json"</span><span class="nt">&gt;</span>
<span class="p">{</span>
  <span class="s2">"requests"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"pageview"</span><span class="err">:</span> <span class="s2">"https://foo.com/pixel?RANDOM"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="s2">"triggers"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"trackPageview"</span><span class="err">:</span> <span class="p">{</span>
      <span class="s2">"on"</span><span class="err">:</span> <span class="s2">"visible"</span><span class="p">,</span>
      <span class="s2">"request"</span><span class="err">:</span> <span class="s2">"pageview"</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/amp-analytics&gt;</span></code></pre></figure>

<p>В вышеприведенном примере мы определили запрос под названием pageview в виде https://foo.com/pixel?RANDOM. Как обсуждалось ранее, переменная RANDOM заменяется случайным числом, поэтому фактический запрос будет выглядеть как https://foo.com/pixel?0.23479283687235653498734.</p>

<p>Когда страница становится видимой
(что указывается использованием в триггере ключевого слова <code class="highlighter-rouge">visible</code>),
возникает событие и отправляется запрос <code class="highlighter-rouge">pageview</code>.
Атрибут триггера определяет условие отправки запроса pageview.
Ознакомьтесь с дополнительной информацией о <a href="/docs/guides/analytics/deep_dive_analytics.html#requests-triggers--transports">запросах и триггерах</a>.</p>

<h2 id="section-1">Подстановка переменной</h2>

<p>Оба компонента, <a href="/docs/reference/amp-pixel.html">amp-pixel</a> и
<a href="/docs/reference/extended/amp-analytics.html">amp-analytics</a>,
позволяют использовать все стандартные подстановки переменных в URL-адресе (см.
<a href="https://github.com/ampproject/amphtml/blob/master/spec/amp-var-substitutions.md">Подстановки переменных в AMP HTML</a>).
В следующем примере
запрос просмотра страницы отправляется на URL-адрес
вместе с каноническим URL-адресом текущего документа AMP, его названием и
<a href="/docs/guides/analytics/analytics_basics.html#user-identification">идентификатором клиента</a>:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-pixel</span> <span class="na">src=</span><span class="s">"https://example.com/analytics?url=${canonicalUrl}&amp;title=${title}&amp;clientId=${clientId(site-user-id)}"</span><span class="nt">&gt;&lt;/amp-pixel&gt;</span></code></pre></figure>

<p>В силу своей простоты
тег <code class="highlighter-rouge">amp-pixel</code> может включать только те переменные, значения которых определяются платформой
или могут быть получены из страницы AMP в процессе ее обработки.
В вышеприведенном примере
значения
<code class="highlighter-rouge">canonicalURL</code> и <code class="highlighter-rouge">clientId(site-user-id)</code> заполняются платформой.
Тег <code class="highlighter-rouge">amp-analytics</code> может включать те же переменные, что и <code class="highlighter-rouge">amp-pixel</code>,
а также переменные, однозначно определенные внутри конфигурации тега.</p>

<p>Для переменной, определяемой страницей или платформой, в строке запроса используется формат <code class="highlighter-rouge">${varName}</code>.</p>

<p>Тег <code class="highlighter-rouge">amp-analytics</code> заменит шаблон своим фактическим значением
в момент построения аналитического запроса (см. также
<a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/analytics-vars.md">Переменные, поддерживаемые в amp-analytics</a>).</p>

<p>В следующем примере <code class="highlighter-rouge">amp-analytics</code>
запрос просмотра страницы отправляется на URL-адрес
вместе с дополнительными данными, полученными из подстановок переменных,
значения которых либо предоставляются платформой,
либо определяются внутри
конфигурации <code class="highlighter-rouge">amp-analytics</code>:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-analytics&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"application/json"</span><span class="nt">&gt;</span>
<span class="p">{</span>
  <span class="s2">"requests"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"pageview"</span><span class="err">:</span><span class="s2">"https://example.com/analytics?url=${canonicalUrl}&amp;title=${title}&amp;acct=${account}&amp;clientId=${clientId(site-user-id)}"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"account"</span><span class="err">:</span> <span class="s2">"ABC123"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="s2">"triggers"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"someEvent"</span><span class="err">:</span> <span class="p">{</span>
      <span class="s2">"on"</span><span class="err">:</span> <span class="s2">"visible"</span><span class="p">,</span>
      <span class="s2">"request"</span><span class="err">:</span> <span class="s2">"pageview"</span><span class="p">,</span>
      <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"title"</span><span class="err">:</span> <span class="s2">"My homepage"</span><span class="p">,</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>  
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/amp-analytics&gt;</span></code></pre></figure>

<p>В примере выше переменные
<code class="highlighter-rouge">account</code> и <code class="highlighter-rouge">title</code> определяются в конфигурации
<code class="highlighter-rouge">amp-analytics</code>.
Переменные <code class="highlighter-rouge">canonicalUrl</code> и <code class="highlighter-rouge">clientId</code> не определены в конфигурации,
поэтому их значения подставляются платформой.</p>

<p><strong>Внимание!</strong> Механизм подстановки переменной весьма гибок.
Вы можете иметь одни и те же переменные, определенные в разных местах,
а AMP выполнит синтаксический анализ этих значений по их приоритетности
(см. <a href="/docs/guides/analytics/deep_dive_analytics.html#variable-substitution-ordering">Порядок подстановки переменных</a>).</p>

<h2 id="section-2">Идентификация пользователей</h2>

<p>Для хранения в браузере информации, связанной с пользователем, веб-сайты используют файлы cookie.
С помощью этих файлов можно узнать о предыдущих посещениях сайта пользователем.
Страницы AMP
могут предоставляться либо веб-сайтом издателя, либо кешем
(например, Google AMP Cache).
Веб-сайт издателя и кеш, скорее всего, принадлежат различным доменам.
В целях обеспечения безопасности
браузеры могут ограничить (и часто ограничивают) доступ к файлам cookie из других доменов
(см. также
<a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/cross-origin-tracking.md">Отслеживание пользователей по источникам</a>).</p>

<p>По умолчанию
AMP предоставляет идентификатор клиента, когда страница открывается либо из исходного веб-сайта издателя, либо через кеш.
Идентификатор клиента, сгенерированный AMP, имеет значение <code class="highlighter-rouge">"amp-"</code>,
к которому добавлена случайная строка в кодировке <code class="highlighter-rouge">base64</code>, и сохраняется для пользователя при его последующих посещениях страницы.</p>

<p>AMP управляет чтением и записью идентификатора клиента во всех случаях.
Это, в частности, заметно, когда страница предоставляется
через кеш или показывается вне контекста просмотра
исходного сайта издателя.
В этом случае доступ к файлам cookie сайта издателя невозможен.</p>

<p>Если страница AMP предоставляется сайтом издателя,
то структуре идентификатора клиента, используемого AMP, можно сообщить о необходимости поиска и использования запасного файла cookie.</p>

<p>В этом случае аргумент
<code class="highlighter-rouge">cid-scope-cookie-fallback-name</code> переменной <code class="highlighter-rouge">clientId</code>
интерпретируется как имя файла cookie.
Формат этого аргумента может выглядеть, как
<code class="highlighter-rouge">CLIENT_ID(cid-scope-cookie-fallback-name)</code> или
<code class="highlighter-rouge">${clientId(cid-scope-cookie-fallback-name)}</code>.</p>

<p>Например:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-pixel</span> <span class="na">src=</span><span class="s">"https://foo.com/pixel?cid=CLIENT_ID(site-user-id-cookie-fallback-name)"</span><span class="nt">&gt;&lt;/amp-pixel&gt;</span></code></pre></figure>

<p>Если AMP обнаруживает установленное значение этого cookie,
подстановка идентификатора клиента возвращает это значение.
Если установленное значение этого cookie не найдено,
то AMP сгенерирует значение в виде <code class="highlighter-rouge">amp-</code> с добавленной случайной строкой в кодировке
base64.</p>

<p>Для получения дополнительной информации о подстановке идентификатора клиента
и способах добавления дополнительного идентификатора уведомления пользователя см. в документе
<a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/analytics-vars.md">Переменные, поддерживаемые amp-analytics</a>.</p>

	</div>

</article>

          <!-- /article -->
        </div>
      </div>
    </div>

    <footer>
      <div class="container">
        <div class="row">
          <div class="twelve columns">
          </div>
        </div>
    </footer>
  </body>
</html>
