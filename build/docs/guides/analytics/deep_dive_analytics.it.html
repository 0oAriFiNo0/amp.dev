<!DOCTYPE html>
<html ⚡>
  <head>
    <meta charset="utf-8">
    <title>Immersione nel mondo di AMP Analytics</title>
    <link rel="canonical" href="https://www.ampproject.org/docs/guides/analytics/deep_dive_analytics.it.html">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <meta property="og:description" content="Questa guida si addentra nella sfera delcomponente amp-analytics,scomponendo una configurazione campione di amp-analytics in questi blocchi predefiniti:">
    <meta name="description" content="Questa guida si addentra nella sfera delcomponente amp-analytics,scomponendo una configurazione campione di amp-analytics in questi blocchi predefiniti:">
    <link rel="shortcut icon" href="/docs/assets/amp_favicon.png?v=2">

    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    <script async custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>
    <script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>

    <style amp-custom>
    body,blockquote,pre,hr,dl,dd,ol,ul,figure{margin:0;padding:0}html,body{background-color:#fbfafb;font-family:Roboto,verdana,arial,sans-serif;margin:0;overflow-x:hidden;padding:0}body{padding-top:66px}ul li,ol li{color:#333;font-size:16px;font-weight:300;line-height:24px}p{color:#333;font-size:16px;font-weight:300;line-height:24px}.container{box-sizing:border-box;margin:0 auto;max-width:1000px;padding:0 20px}.container.md{max-width:800px}.wrap{background-color:#fff;margin:0 auto}.centered{text-align:center}@media only screen and (max-width: 870px){.centered{text-align:left}}.align-right{text-align:right}.clearfix:after{content:"";display:table;clear:both}.clearfix .left{float:left}.clearfix .right{float:right}.clearfix .fill{overflow:hidden;width:auto}h1,h2,h3,h4,h5{color:#147bc1;font-weight:300;margin-top:1.1em;margin-bottom:0.5em}h1{font-size:43px}h2{font-size:36px}h3{font-size:26px}a{color:#0360B5;text-decoration:none}a:hover{text-decoration:underline}a.button{padding:1em;display:block;background-color:#F5F5F5;text-align:center}blockquote{color:#797c82;border-left:4px solid #f5f5f5;padding-left:15px;font-size:18px;letter-spacing:-1px;font-style:italic}blockquote>:last-child{margin-bottom:0}code{font-size:15px;border:1px solid #f5f5f5;border-radius:3px}code{padding:1px 5px}table{border-collapse:collapse}td,th{border:1px solid #FFFFFF;background:#F7F7F7;padding:0.5rem;text-align:left}td.col-fourty{width:40%}td.col-thirty{width:30%}th{background:#eee}th.col-twenty{width:20%}header{-webkit-box-shadow:rgba(0,0,0,0.15) 1px 1px 14px;-moz-box-shadow:rgba(0,0,0,0.15) 1px 1px 14px;box-shadow:rgba(0,0,0,0.15) 1px 1px 14px;font-size:14px;font-weight:300;transform:translateZ(0);backface-visibility:hidden;background-color:#fff}header .container{padding:0}@media only screen and (max-width: 870px){header .container{padding:0 10px}}header.absolute,header.fixed{-moz-transform:translateY(0%);-o-transform:translateY(0%);-ms-transform:translateY(0%);-webkit-transform:translateY(0%);transform:translateY(0%);-moz-transition:all 0.25s ease;-o-transition:all 0.25s ease;-ms-transition:all 0.25s ease;-webkit-transition:all 0.25s ease;transition:all 0.25s ease;left:0;position:fixed;top:0;width:100%;z-index:1000}header.absolute{position:absolute}header.nav--pinned,header.nav--unpinned,header.nav--top{position:fixed}@media only screen and (max-width: 870px){header.nav--pinned,header.nav--unpinned,header.nav--top{position:relative}}header.nav--pinned,header.nav--unpinned{background:#147bc1}header.nav--top{background-color:transparent}header.hidden{display:block}@media only screen and (max-width: 870px){header.hidden{-moz-transform:translateY(-100%);-o-transform:translateY(-100%);-ms-transform:translateY(-100%);-webkit-transform:translateY(-100%);transform:translateY(-100%)}}header.menu-open{transform:translate(-243px, 0px)}@media only screen and (max-width: 870px){header .wrap{color:transparent}}header .content.mobile-show{padding:0 10px 5px}header .left-nav{-webkit-box-align:center;-moz-box-align:center;box-align:center;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-ms-flex-align:center;display:-webkit-box;display:-moz-box;display:box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start;-ms-flex-pack:start;float:left;font-size:14px;letter-spacing:0.04em;margin-left:0}@media only screen and (max-width: 870px){header .left-nav{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start;-ms-flex-pack:start;flex:1 1 auto;padding:0 0 5px 0;text-align:left;width:auto}}header .left-nav .header-title{background-image:url("/docs/assets/logo-blue.svg");background-position:center left;background-repeat:no-repeat;background-size:40px 40px;color:#147bc1;font-family:Roboto, verdana, arial, sans-serif;margin:10px 0;padding:15px 10px 15px 50px;text-transform:none;white-space:nowrap;width:auto}@media only screen and (max-width: 870px){header .left-nav .header-title{line-height:41px;margin:6px 0;padding:0 0 0 50px;width:auto}}@media only screen and (max-width: 870px){header .clearfix{display:flex;flex-wrap:wrap-reverse}}header .alt{padding:15px 0;text-align:right;display:-webkit-box;display:-moz-box;display:box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-moz-box-align:center;box-align:center;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-ms-flex-align:center;-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-ms-flex-pack:center}header .alt.right{letter-spacing:0.04em;font-size:14px}@media only screen and (max-width: 870px){header .alt.right{float:right;text-align:center;flex:0;padding:0 0 10px;font-size:12px;display:inline-block}}header .tab{color:#147bc1;display:inline-block;padding:10px 15px;text-decoration:none;text-transform:uppercase}@media only screen and (max-width: 870px){header .tab{margin-left:auto;padding:10px 12px}}header .tab.go-button{-webkit-box-shadow:-1px 6px 6px -3px rgba(0,0,0,0.22);-moz-box-shadow:-1px 6px 6px -3px rgba(0,0,0,0.22);box-shadow:-1px 6px 6px -3px rgba(0,0,0,0.22);background-color:#147bc1;border:0;border-radius:4px;color:#fff;font-family:Roboto, verdana, arial, sans-serif;font-size:14px;font-weight:500;padding:10px 20px;margin-left:10px;text-transform:uppercase}@media only screen and (max-width: 870px){header .tab.go-button{margin-right:5px;margin-left:auto;padding:8px 10px}}header .tab.go-button:hover{text-decoration:none}header .tab.hamburger{font-size:50px;line-height:38px;background:none;border:none;margin-top:0;padding-top:0;position:relative;top:4px;display:none}@media only screen and (max-width: 870px){header .tab.desktop{display:none}header .tab.hamburger{display:inline-block}}@media only screen and (max-width: 320px){header .header-title span{display:none}header .header-title::after{content:"AMP"}}.main{display:-webkit-flex;display:flex;padding-top:40px;padding-bottom:30px}.main h1{margin-top:0}.main h1:before,.main h2:before,.main h3:before,.main h4:before,.main h5:before{display:block;content:" ";margin-top:-106px;height:106px;visibility:hidden}.main .content{flex-grow:1;-webkit-flex-grow:1;transition:all 0.25s ease;transform:translate(0, 0);will-change:transform;word-break:break-word;min-width:0}.main .content.menu-open{transform:translate(-243px, 0)}.main .content ul,.main .content ol{margin-left:40px}.main .content{overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.main amp-img,.main amp-youtube,.main amp-iframe{margin:1em 0}nav{border-right:2px solid #E6E6E6;padding:20px;margin-right:30px;margin-left:-20px;width:200px;flex-shrink:0;-webkit-flex-shrink:0;background:#F7F7F7;margin-top:-40px;margin-bottom:-30px}nav h2{font-size:20px;color:#111;margin-top:0;margin-bottom:10px}nav ul li,nav ol li{margin-bottom:10px;list-style:none}nav ul li ul,nav ul li ol,nav ol li ul,nav ol li ol{padding-left:0;margin-left:20px;margin-bottom:1.2em}nav ul li ul li,nav ul li ol li,nav ol li ul li,nav ol li ol li{margin-bottom:6px;font-size:14px;list-style:square;color:#CECECE}nav ul li ul li.current,nav ul li ol li.current,nav ol li ul li.current,nav ol li ol li.current{color:#222}nav ul li ul li span,nav ul li ol li span,nav ol li ul li span,nav ol li ol li span{font-weight:400;color:#222}nav ul li ul li ul,nav ul li ul li ol,nav ul li ol li ul,nav ul li ol li ol,nav ol li ul li ul,nav ol li ul li ol,nav ol li ol li ul,nav ol li ol li ol{margin-bottom:0;margin-left:0;padding-left:20px;border-top:1px solid #eee;padding-top:3px;padding-bottom:0px}nav ul li ul li ol li,nav ul li ol li ol li,nav ol li ul li ol li,nav ol li ol li ol li{list-style:decimal}@media only screen and (max-width: 870px){.container nav{display:none}amp-sidebar nav{margin-right:0;border-right:none;margin-top:0;padding-left:36px}}pre{overflow:auto;tab-size:2;word-break:normal;line-height:1.4;background:#F7F7F7}pre>code{white-space:pre;word-wrap:initial;display:block}pre>code td{border:0}.highlight .hll{background-color:#ffc}.highlight .c{color:#aaaaaa;font-style:italic}.highlight .err{color:#F00000}.highlight .k{color:#00a}.highlight .cm{color:#aaaaaa;font-style:italic}.highlight .cp{color:#4c8317}.highlight .c1{color:#aaaaaa;font-style:italic}.highlight .cs{color:#0000aa;font-style:italic}.highlight .gd{color:#a00}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#000080;font-weight:bold}.highlight .gi{color:#0a0}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#800080;font-weight:bold}.highlight .gt{color:#a00}.highlight .kc{color:#00a}.highlight .kd{color:#00a}.highlight .kn{color:#00a}.highlight .kp{color:#00a}.highlight .kr{color:#00a}.highlight .kt{color:#0aa}.highlight .m{color:#099}.highlight .s{color:#a50}.highlight .na{color:#1e90ff}.highlight .nb{color:#0aa}.highlight .nc{color:#00aa00;text-decoration:underline}.highlight .no{color:#a00}.highlight .nd{color:#888}.highlight .ni{color:#800000;font-weight:bold}.highlight .nf{color:#0a0}.highlight .nn{color:#00aaaa;text-decoration:underline}.highlight .nt{color:#1e90ff;font-weight:bold}.highlight .nv{color:#a00}.highlight .ow{color:#00a}.highlight .w{color:#bbb}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .sb{color:#a50}.highlight .sc{color:#a50}.highlight .sd{color:#a50}.highlight .s2{color:#a50}.highlight .se{color:#a50}.highlight .sh{color:#a50}.highlight .si{color:#a50}.highlight .sx{color:#a50}.highlight .sr{color:#099}.highlight .s1{color:#a50}.highlight .ss{color:#00a}.highlight .bp{color:#0aa}.highlight .vc{color:#a00}.highlight .vg{color:#a00}.highlight .vi{color:#a00}.highlight .il{color:#099}.highlight .lineno{-webkit-user-select:none;-moz-user-select:none;-o-user-select:none}.lineno::-moz-selection{background-color:transparent}.lineno::selection{background-color:transparent}footer{padding:40px 0 60px 100px;background-color:#f5f5f5}footer p{margin:0}footer .footer-image{height:25px;width:25px;padding-left:25px;float:right}
    </style>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:200,300,400,500,700">
  </head>

  <body>
    <amp-analytics type="googleanalytics" id="analytics-ga">
    <script type="application/json">
    {
      "vars": {
        "account": "UA-67833617-1"
      },
      "triggers": {
        "trackPageview": {
          "on": "visible",
          "request": "pageview"
        }
      }
    }
    </script>
    </amp-analytics>

    <amp-sidebar id='sidebar' side='right' layout='nodisplay'>
              
        <nav>
          <ul>
            
            

            <li>
            <h2>Come iniziare</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/about-amp.it.html">Che cos’è AMP?</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/create_page.it.html">Crea la tua prima pagina AMP</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/technical_overview.it.html">Il metodo di AMP per ottimizzare le prestazioni</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Guide</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/analytics_amp.it.html">Configurazione di Analytics</a>
                

                
                  <ul>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/guides/analytics/analytics_basics.it.html">Analytics&#58; i concetti di base</a>
                    </li>
                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li class="current">
                      <span>Immersione nel mondo di AMP Analytics</span>
                    </li>
                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/guides/analytics/use_cases.it.html">Casistica</a>
                    </li>
                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  </ul>
                

                </li>
                

              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Riferimenti</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Supporto</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            
            
          </ul>
        </nav>
        

    </amp-sidebar>

    <header class="fixed">
      <div class="wrap">
        <div class="container">
          <div class="clearfix">
          <div class="left-nav">
              <a href="https://ampproject.org" class="tab header-title">
                <span>Accelerated
                Mobile
                Pages
                Project</span>
              </a>
            </div>
            <div class="right alt">
              <a class="tab desktop" href="/docs/support/faqs.html">
                Domande frequenti (FAQ)
              </a>
              <a class="tab desktop" href="https://amphtml.wordpress.com">
                Blog
              </a>
              <a class="tab desktop" href="https://github.com/ampproject/amphtml">
                GitHub
              </a>
              <a class="tab desktop" href="/docs/get_started/about-amp.html">
                Documentazione
              </a>
              <button class="tab hamburger" id="menu-button" on='tap:sidebar.toggle'>&#x2261;</button>
            </div>
          </div>
        </div>
      </div>
    </header>


    <div class="wrap">
      <div class="container main">
        
        <nav>
          <ul>
            
            

            <li>
            <h2>Come iniziare</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/about-amp.it.html">Che cos’è AMP?</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/create_page.it.html">Crea la tua prima pagina AMP</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/technical_overview.it.html">Il metodo di AMP per ottimizzare le prestazioni</a>
                

                

                </li>
                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Guide</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                

              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/analytics_amp.it.html">Configurazione di Analytics</a>
                

                
                  <ul>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/guides/analytics/analytics_basics.it.html">Analytics&#58; i concetti di base</a>
                    </li>
                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li class="current">
                      <span>Immersione nel mondo di AMP Analytics</span>
                    </li>
                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/guides/analytics/use_cases.it.html">Casistica</a>
                    </li>
                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  

                    
                    

                    
                    
                    
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  </ul>
                

                </li>
                

              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Riferimenti</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Supporto</h2>

            <ul>
              
              
              
              
              
              
              
              
              
              
              
              
            </ul>
            </li>
            
            
            
            
          </ul>
        </nav>
        

        <div class="content">
          <!-- article -->
          <article class="post">

    <h1 class="post-title">Immersione nel mondo di AMP Analytics</h1>

	<div class="post-content">
	    <p>Questa guida si addentra nella sfera del
<a href="/docs/reference/extended/amp-analytics.html">componente amp-analytics</a>,
scomponendo una configurazione campione di <code class="highlighter-rouge">amp-analytics</code> in questi blocchi predefiniti:</p>

<ul id="markdown-toc">
  <li><a href="#dove-inviare-i-dati-di-analisi-attributo-type" id="markdown-toc-dove-inviare-i-dati-di-analisi-attributo-type">Dove inviare i dati di analisi: attributo type</a></li>
  <li><a href="#caricamento-della-configurazione-remota-attributo-config" id="markdown-toc-caricamento-della-configurazione-remota-attributo-config">Caricamento della configurazione remota: attributo config</a></li>
  <li><a href="#richieste-attivazioni-e-trasferimenti" id="markdown-toc-richieste-attivazioni-e-trasferimenti">Richieste, attivazioni e trasferimenti</a>    <ul>
      <li><a href="#quali-dati-vengono-inviati-attributo-requests" id="markdown-toc-quali-dati-vengono-inviati-attributo-requests">Quali dati vengono inviati: attributo requests</a>        <ul>
          <li><a href="#aggiunta-di-url-di-richiesta-extra-url-params" id="markdown-toc-aggiunta-di-url-di-richiesta-extra-url-params">Aggiunta di URL di richiesta: Extra URL Params</a></li>
        </ul>
      </li>
      <li><a href="#quando-vengono-inviati-i-dati-attributo-triggers" id="markdown-toc-quando-vengono-inviati-i-dati-attributo-triggers">Quando vengono inviati i dati: attributo triggers</a></li>
      <li><a href="#come-vengono-inviati-i-dati-attributo-transport" id="markdown-toc-come-vengono-inviati-i-dati-attributo-transport">Come vengono inviati i dati: attributo transport</a></li>
    </ul>
  </li>
  <li><a href="#ordinamento-della-sostituzione-delle-variabili" id="markdown-toc-ordinamento-della-sostituzione-delle-variabili">Ordinamento della sostituzione delle variabili</a></li>
</ul>

<p>Il resto di questa guida usa il campione di configurazione,
che consente di monitorare le visualizzazioni di pagina e i clic dell’utente sui link
e inviare i dati di analisi al fornitore di terze parti,
<a href="https://developers.google.com/analytics/devguides/collection/amp-analytics/">Google Analytics</a>:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-analytics</span> <span class="na">type=</span><span class="s">"googleanalytics"</span> <span class="na">config=</span><span class="s">"https://example.com/analytics.account.config.json"</span><span class="nt">&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"application/json"</span><span class="nt">&gt;</span>
<span class="p">{</span>
  <span class="s2">"requests"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"pageview"</span><span class="err">:</span> <span class="s2">"https://example.com/analytics?url=${canonicalUrl}&amp;title=${title}&amp;acct=${account}"</span><span class="p">,</span>
    <span class="s2">"event"</span><span class="err">:</span> <span class="s2">"https://example.com/analytics?eid=${eventId}&amp;elab=${eventLabel}&amp;acct=${account}"</span>
  <span class="p">},</span>
  <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"account"</span><span class="err">:</span> <span class="s2">"ABC123"</span>
  <span class="p">},</span>
  <span class="s2">"extraUrlParams"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"cd1"</span><span class="err">:</span> <span class="s2">"AMP"</span>
  <span class="p">},</span>
  <span class="s2">"triggers"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"trackPageview"</span><span class="err">:</span> <span class="p">{</span>
      <span class="s2">"on"</span><span class="err">:</span> <span class="s2">"visible"</span><span class="p">,</span>
      <span class="s2">"request"</span><span class="err">:</span> <span class="s2">"pageview"</span>
    <span class="p">},</span>
    <span class="s2">"trackAnchorClicks"</span><span class="err">:</span> <span class="p">{</span>
      <span class="s2">"on"</span><span class="err">:</span> <span class="s2">"click"</span><span class="p">,</span>
      <span class="s2">"selector"</span><span class="err">:</span> <span class="s2">"a"</span><span class="p">,</span>
      <span class="s2">"request"</span><span class="err">:</span> <span class="s2">"event"</span><span class="p">,</span>
      <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"eventId"</span><span class="err">:</span> <span class="s2">"42"</span><span class="p">,</span>
        <span class="s2">"eventLabel"</span><span class="err">:</span> <span class="s2">"clicked on a link"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s1">'transport'</span><span class="err">:</span> <span class="p">{</span>
    <span class="s1">'beacon'</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s1">'xhrpost'</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s1">'image'</span><span class="err">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/amp-analytics&gt;</span></code></pre></figure>

<p><strong>Nota:</strong> il codice dell’esempio sopra è stato creato per aiutarti a capire ma non costituisce assolutamente un campione realistico. Se collabori con fornitori di strumenti di analisi, è probabile che il campione sopra non abbia senso, in quanto le configurazioni dei fornitori eliminano le complessità. Per le configurazioni di esempio fai riferimento alla documentazione del tuo fornitore di strumenti di analisi.</p>

<h2 id="dove-inviare-i-dati-di-analisi-attributo-type">Dove inviare i dati di analisi: attributo type</h2>

<p>AMP è progettato per supportare due modelli diffusi di raccolta dati:</p>

<ul>
  <li>Inserimento da un endpoint di proprietà di un publisher per i sistemi di analisi interni.</li>
  <li>Inserimento da un endpoint di proprietà di un fornitore per l’interoperabilità con la soluzione del fornitore
(ad esempio, <a href="https://helpx.adobe.com/marketing-cloud/analytics.html">Adobe Analytics</a>, <a href="http://support.chartbeat.com/docs/">Chartbeat</a>, <a href="https://developers.google.com/analytics/devguides/collection/amp-analytics/">Google Analytics</a>).</li>
</ul>

<p>Per inviare i dati dell’analisi a un fornitore di strumenti di analisi,
includi l’attributo <code class="highlighter-rouge">type</code> nel tag <code class="highlighter-rouge">amp-analytics</code> e imposta il suo valore
per il fornitore pertinente, come definito nella
<a href="/docs/reference/extended/amp-analytics.html">specifica amp-analytics</a>.</p>

<p>Ad esempio: <code class="highlighter-rouge">&lt;amp-analytics type="googleanalytics"&gt;</code> invia i dati di analisi
al fornitore di strumenti di analisi di terze parti, Google Analytics.
Per inviare i dati a un endpoint di proprietà di un publisher
è sufficiente non includere l’attributo <code class="highlighter-rouge">type</code>,
i dati di analisi vengono quindi inviati agli endpoint definiti per ciascuna
<a href="/docs/guides/analytics/deep_dive_analytics.html#what-data-gets-sent-requests-attribute">richiesta</a>.</p>

<p>Le configurazioni del fornitore di strumenti di analisi costituiscono un sistema rapido
per iniziare a lavorare con <code class="highlighter-rouge">amp-analytics</code>.
Per ulteriori informazioni è opportuno consultare la documentazione
e le risorse di riferimento rese disponibili dal fornitore.
Come precedentemente indicato,
l’elenco di fornitori che hanno già incluso l’integrazione con AMP, nonché i link
alla rispettiva documentazione specifica sono reperibili nella
<a href="/docs/reference/extended/amp-analytics.html">specifica amp-analytics</a>.</p>

<p>Se sei un fornitore di strumenti di analisi,
ottieni ulteriori informazioni sull’
<a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/integrating-analytics.md">integrazione della tua configurazione di analisi personale in HTML AMP</a>.</p>

<h2 id="caricamento-della-configurazione-remota-attributo-config">Caricamento della configurazione remota: attributo config</h2>

<p>Non hai bisogno di includere tutta la
configurazione per <code class="highlighter-rouge">amp-analytics</code> nella tua pagina AMP.
Al contrario, puoi richiamare un URL remoto
per la totalità o per parte delle configurazioni.</p>

<p>Questo ti consente di eseguire operazioni come la modifica
della configurazione in base a una richiesta specifica.
Se in quanto editore hai il controllo sul file remoto,
puoi eseguire qualsiasi operazione di elaborazione necessaria sul lato server
per costruire i dati di configurazione.</p>

<p>Il primo passo per caricare le configurazioni remote
è quello di includere l’attributo config nel tag <code class="highlighter-rouge">amp-analytics</code>:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-analytics</span> <span class="na">config=</span><span class="s">"https://example.com/analytics.account.config.json"</span><span class="nt">&gt;</span></code></pre></figure>

<p>Il passo successivo è quello di creare il contenuto JSON che risiede nell’URL remoto.
In questo semplice esempio,
la configurazione contenuta nell’oggetto JSON è semplicemente il valore della variabile per l’account di analisi.</p>

<p>Contenuto di esempio in <code class="highlighter-rouge">https://example.com/analytics.account.config.json</code>:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">{
  "vars": {
    "account": "UA-XXXXX-Y"  // Replace with your property ID.
  }
}</code></pre></figure>

<p>Il passo finale è quello di verificare che il contenuto del file remoto sia
inserito nel punto corretto nella configurazione <code class="highlighter-rouge">amp-analytics</code>.
Qui, in entrambe le richieste <code class="highlighter-rouge">pageview</code> e <code class="highlighter-rouge">event</code>,
il valore della variabile <code class="highlighter-rouge">account</code> è automaticamente impostato
sul valore dell’account nell’URL remoto (<code class="highlighter-rouge">"account": "UA-XXXXX-Y"</code>):</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">"requests": {
  "pageview": "https://example.com/analytics?url=${canonicalUrl}<span class="err">&amp;</span>title=${title}<span class="err">&amp;</span>acct=${account}",
  "event": "https://example.com/analytics?eid=${eventId}<span class="err">&amp;</span>elab=${eventLabel}<span class="err">&amp;</span>acct=${account}"
}</code></pre></figure>

<p><strong>Importante.</strong> AMP non consente la convalida rispetto a più usi della stessa variabile.
I valori vengono inseriti seguendo un ordine di preferenza di sostituzione delle variabili
e i valori negli URL remoti sono all’inizio di tale ordine
(vedi <a href="/docs/guides/analytics/deep_dive_analytics.html#variable-substitution-ordering">Ordinamento della sostituzione delle variabili</a>).</p>

<h2 id="richieste-attivazioni-e-trasferimenti">Richieste, attivazioni e trasferimenti</h2>

<p>L’attributo <code class="highlighter-rouge">requests</code> definisce ‘quali dati vengono inviati’
(ad esempio, <code class="highlighter-rouge">pageviews</code>, <code class="highlighter-rouge">events</code>)
e dove vengono inviati (gli URL utilizzati per trasmettere i dati).</p>

<p>L’attributo <code class="highlighter-rouge">triggers</code> indica quando devono essere inviati i dati di analisi,
ad esempio, quando un utente visualizza una pagina o quando un utente fa clic su un link.</p>

<p>L’attributo <code class="highlighter-rouge">transport</code> specifica come inviare una richiesta,
più in particolare, il protocollo.</p>

<p>Più avanti puoi ottenere ulteriori informazioni su queste configurazioni
(puoi anche approfondire queste configurazioni nel
<a href="/docs/reference/extended/amp-analytics.html">riferimento amp-analytics</a>).</p>

<h3 id="quali-dati-vengono-inviati-attributo-requests">Quali dati vengono inviati: attributo requests</h3>

<p>Il valore <code class="highlighter-rouge">request-name</code> viene utilizzato nella configurazione di attivazione per specificare
quale richiesta deve essere inviata in risposta a un particolare evento.
Il valore <code class="highlighter-rouge">request-value</code> è un URL <code class="highlighter-rouge">https</code>.
Questi valori possono includere token segnaposto
che fanno riferimento ad altre richieste o variabili.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">"requests": {
  "pageview": "https://example.com/analytics?url=${canonicalUrl}<span class="err">&amp;</span>title=${title}<span class="err">&amp;</span>acct=${account}",
  "event": "https://example.com/analytics?eid=${eventId}<span class="err">&amp;</span>elab=${eventLabel}<span class="err">&amp;</span>acct=${account}"
}</code></pre></figure>

<p>Alcuni fornitori di strumenti di analisi (compreso Google Analytics)
hanno già fornito la configurazione
da utilizzare tramite l’attributo <code class="highlighter-rouge">type</code>.
Se stai usando un fornitore di strumenti di analisi,
è possibile che non sia necessario includere le informazioni <code class="highlighter-rouge">requests</code>.
Fai riferimento alla documentazione del tuo fornitore per
sapere se occorre configurare l’attributo <code class="highlighter-rouge">requests</code> ed eventualmente come configurarlo.</p>

<h4 id="aggiunta-di-url-di-richiesta-extra-url-params">Aggiunta di URL di richiesta: Extra URL Params</h4>

<p>L’attributo <a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/amp-analytics.md#extra-url-params">extraUrlParams</a>
specifica i parametri supplementari da aggiungere alla stringa di query dell’URL di richiesta tramite la solita convenzione “&amp;foo=baz”.</p>

<p>L’esempio <code class="highlighter-rouge">amp-analytics</code> aggiunge un ulteriore parametro <code>cd1</code>
alla richiesta e imposta il valore del parametro su “AMP”:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">  "extraUrlParams": {
    "cd1": "AMP"
  }</code></pre></figure>

<h3 id="quando-vengono-inviati-i-dati-attributo-triggers">Quando vengono inviati i dati: attributo triggers</h3>

<p>L’attributo <code class="highlighter-rouge">triggers</code> descrive quando deve essere inviata una richiesta di analisi.
Contiene una coppia chiave-valore di nome-trigger e configurazione-trigger.
Il nome trigger può essere qualsiasi stringa costituita da
caratteri alfanumerici (a-zA-Z0-9).</p>

<p>Ad esempio,
il seguente elemento <code class="highlighter-rouge">amp-analytics</code> è configurato per inviare una richiesta a
<code class="highlighter-rouge">https://example.com/analytics</code> quando il documento viene caricato per la prima volta
e ogni volta che viene fatto clic su un tag <code class="highlighter-rouge">a</code>:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">"triggers": {
  "trackPageview": {
    "on": "visible",
    "request": "pageview"
  },
  "trackAnchorClicks": {
    "on": "click",
    "selector": "a",
    "request": "event",
    "vars": {
      "eventId": "42",
      "eventLabel": "clicked on a link"
    }
  }
}</code></pre></figure>

<p>AMP supporta le seguenti configurazioni di attivazione:</p>

<table>
  <thead>
    <tr>
      <th data-th="Trigger Config" class="col-thirty">Trigger Config</th>
      <th data-th="Description">Descrizione</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td data-th="Trigger Config"><code>on</code> (obbligatorio)</td>
      <td data-th="Description">L’evento per cui invocare il listener. I valori validi sono <code>click</code>, <code>scroll</code>, <code>timer</code> e <code>visible</code>.</td>
    </tr>
    <tr>
      <td data-th="Trigger Config"><code>request</code> (obbligatorio)</td>
      <td data-th="Description">Nome della richiesta da inviare (come specificato nelle <a href="/docs/guides/analytics/deep_dive_analytics.html#what-data-gets-sent-requests-attribute">richieste</a>).</td>
    </tr>
    <tr>
      <td data-th="Trigger Config"><code>vars</code></td>
      <td data-th="Description">Un oggetto contenente le coppie chiave-valore usate per eseguire l’override delle <code>vars</code> definite nella configurazione di primo livello o per specificare <code>vars</code> univoche a questo trigger (vedi anche <a href="/docs/guides/analytics/deep_dive_analytics.html#variable-substitution-ordering">Ordinamento della sostituzione delle variabili</a>).</td>
    </tr>
    <tr>
      <td data-th="Trigger Config"><code>selector</code> (obbligatorio quando <code>on</code> è impostato su <code>click</code>)</td>
      <td data-th="Description">Un selettore CSS utilizzato per definire meglio quali elementi devono essere monitorati. Usa il valore <code>*</code> per monitorare tutti gli elementi. Questa configurazione viene utilizzata insieme al trigger <code>click</code>. Scopri come usare il selettore per <a href="/docs/guides/analytics/use_cases.html#tracking-page-clicks">monitorare i clic di pagina</a> e per le <a href="/docs/guides/analytics/use_cases.html#tracking-social-interactions">interazioni sui social</a>.</td>
    </tr>
    <tr>
      <td data-th="Trigger Config"><code>scrollSpec</code> (obbligatorio quando <code>on</code> è impostato su <code>scroll</code>)</td>
      <td data-th="Description">Controlla in base a quali condizioni viene attivato l’evento <code>scroll</code> quando l’utente scorre la pagina. Questo oggetto può contenere <code>verticalBoundaries</code> e <code>horizontalBoundaries</code>. Per l’attivazione di un evento <code>scroll</code> è necessaria almeno una delle due proprietà. I valori per entrambe le proprietà devono essere serie di numeri contenenti i limiti entro i quali viene generato un evento di scorrimento. Vedi questo esempio sul <a href="/docs/guides/analytics/use_cases.html#tracking-scrolling">monitoraggio dello scorrimento</a>.</td>
    </tr>
    <tr>
      <td data-th="Trigger Config"><code>timerSpec</code> (obbligatorio quando <code>on</code> è impostato su <code>timer</code>)</td>
      <td data-th="Description">Controlla quando viene attivato l’evento <code>timer</code>. Il timer si attiva immediatamente e successivamente a intervalli specifici. Questa configurazione viene utilizzata insieme al trigger <code>timer</code>.</td>
    </tr>
  </tbody>
</table>

<p><strong>Importante:</strong> i trigger di una configurazione con precedenza più bassa vengono ignorati
dai trigger con lo stesso nome di una configurazione con una precedenza più alta
(vedi <a href="/docs/guides/analytics/deep_dive_analytics.html#variable-substitution-ordering">Ordinamento della sostituzione delle variabili</a>).</p>

<h3 id="come-vengono-inviati-i-dati-attributo-transport">Come vengono inviati i dati: attributo transport</h3>

<p>L’attributo <code class="highlighter-rouge">transport</code> specifica come inviare una richiesta.
I seguenti tre metodi sono abilitati per impostazione predefinita:</p>

<table>
  <thead>
    <tr>
      <th data-th="Transport Method" class="col-thirty">Metodo di trasferimento</th>
      <th data-th="Description">Descrizione</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td data-th="Transport Method"><code>beacon</code></td>
      <td data-th="Description">Indica che <a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon">navigator.sendBeacon</a> può essere utilizzato per trasmettere la richiesta. Viene inviata una richiesta <code>POST</code>, completa di credenziali, con il corpo del testo vuoto.</td>
    </tr>
    <tr>
      <td data-th="Transport Method"><code>xhrpost</code></td>
      <td data-th="Description">Indica che <code>XMLHttpRequest</code> può essere utilizzato per trasmettere la richiesta. Viene inviata una richiesta <code>POST</code>, completa di credenziali, con il corpo del testo vuoto.</td>
    </tr>
    <tr>
      <td data-th="Transport Method"><code>image</code></td>
      <td data-th="Description">Indica che la richiesta può essere inviata generando un tag <code>Image</code>. Questo invia una richiesta <code>GET</code>.</td>
    </tr>
  </tbody>
</table>

<p>Viene utilizzato solo un metodo di trasferimento
ed è quello abilitato, consentito e disponibile
con la precedenza più alta.
La precedenza è <code class="highlighter-rouge">beacon</code> &gt; <code class="highlighter-rouge">xhrpost</code> &gt; <code class="highlighter-rouge">image</code>.
Se l’agente utente del client non supporta un metodo,
viene utilizzato il metodo successivo abilitato con la precedenza più alta.</p>

<p>Include l’attributo <code class="highlighter-rouge">transport</code> nella configurazione
solo se si desidera limitare le opzioni di trasferimento,
in caso contrario si possono interrompere le richieste.</p>

<p>Nell’esempio di seguito,
<code class="highlighter-rouge">beacon</code> e <code class="highlighter-rouge">xhrpost</code> sono impostati su false,
in modo tale da non essere utilizzati anche se hanno una precedenza più alta rispetto a <code class="highlighter-rouge">image</code>.
Se l’agente utente del client supporta il metodo <code class="highlighter-rouge">image</code>,
verrà utilizzato, in contrario non sarà inviata alcuna richiesta.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">'transport': {
  'beacon': false,
  'xhrpost': false,
  'image': true
}</code></pre></figure>

<h2 id="ordinamento-della-sostituzione-delle-variabili">Ordinamento della sostituzione delle variabili</h2>

<p>AMP inserisce le variabili con i valori in ordine di precedenza:</p>

<ol>
  <li>Configurazioni remote (tramite <code class="highlighter-rouge">config</code>).</li>
  <li><code class="highlighter-rouge">vars</code> nidificate all’interno di un trigger in <code class="highlighter-rouge">triggers</code>.</li>
  <li><code class="highlighter-rouge">vars</code> al primo livello nidificate in <code class="highlighter-rouge">amp-analytics</code>.</li>
  <li>Valori forniti dalla piattaforma.</li>
</ol>

<p>In questo esempio sono presenti una configurazione remota,
variabili definite al primo livello, nei trigger e a livello della piattaforma:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-analytics</span> <span class="na">config=</span><span class="s">"http://example.com/config.json"</span><span class="nt">&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"application/json"</span><span class="nt">&gt;</span>
<span class="p">{</span>
  <span class="s2">"requests"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"pageview"</span><span class="err">:</span> <span class="s2">"https://example.com/analytics?url=${canonicalUrl}&amp;title=${title}&amp;acct=${account}&amp;clientId=${clientId(cid-scope)}"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"account"</span><span class="err">:</span> <span class="s2">"ABC123"</span><span class="p">,</span>
    <span class="s2">"title"</span><span class="err">:</span> <span class="s2">"Homepage"</span>
  <span class="p">},</span>
  <span class="s2">"triggers"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"some-event"</span><span class="err">:</span> <span class="p">{</span>
      <span class="s2">"on"</span><span class="err">:</span> <span class="s2">"visible"</span><span class="p">,</span>
      <span class="s2">"request"</span><span class="err">:</span> <span class="s2">"pageview"</span><span class="p">,</span>
      <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"title"</span><span class="err">:</span> <span class="s2">"My homepage"</span><span class="p">,</span>
        <span class="s2">"clientId"</span><span class="err">:</span> <span class="s2">"my user"</span>
      <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/amp-analytics&gt;</span></code></pre></figure>

<p>Quando la stessa <code class="highlighter-rouge">var</code> è definita in più posizioni,
l’ordine delle variabili di precedenza ne imposta il valore una volta.
Pertanto, se la configurazione remota definiva <code class="highlighter-rouge">account</code> come UA-XXXXX-Y nell’esempio sopra,
i valori delle diverse vars saranno come indicato di seguito:</p>

<table>
  <thead>
    <tr>
      <th data-th="var" class="col-thirty"><code>var</code></th>
      <th data-th="Value">Valore</th>
      <th data-th="Defined By" class="col-thirty">Definito da</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td data-th="var"><code>canonicalUrl</code></td>
      <td data-th="Value"><code>http://example.com/path/to/the/page</code></td>
      <td data-th="Defined By">Piattaforma</td>
    </tr>
    <tr>
      <td data-th="var"><code>title</code></td>
      <td data-th="Value">My homepage</td>
      <td data-th="Defined By">Trigger</td>
    </tr>
    <tr>
      <td data-th="var"><code>account</code></td>
      <td data-th="Value"><code>UA-XXXXX-Y</code></td>
      <td data-th="Defined By">Configurazione remota</td>
    </tr>
    <tr>
      <td data-th="var"><code>clientId</code></td>
      <td data-th="Value">my user</td>
      <td data-th="Defined By">Trigger</td>
    </tr>
  </tbody>
</table>

	</div>

</article>

          <!-- /article -->
        </div>
      </div>
    </div>

    <footer>
      <div class="container">
        <div class="row">
          <div class="twelve columns">
          </div>
        </div>
    </footer>
  </body>
</html>
